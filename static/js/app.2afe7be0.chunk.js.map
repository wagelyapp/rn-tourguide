{"version":3,"sources":["lib/components/ConnectedStep.js","lib/components/TourGuideContext.js","lib/components/Step.js","lib/components/Wrapper.js","lib/components/TourGuideZone.js","lib/utilities.js","lib/components/style.js","lib/components/AnimatedPath.web.js","lib/components/SvgMask.js","lib/components/Button.js","lib/components/Tooltip.js","lib/components/Modal.js","lib/components/TourGuideProvider.js","lib/hooks/useIsMounted.js","lib/components/TourGuideZoneByPosition.js","lib/hooks/useTourGuideController.js"],"names":["ConnectedStep","this","props","active","register","prevProps","unregister","obj","wrapper","setNativeProps","context","registerStep","tourKey","target","console","warn","unregisterStep","name","__TEST__","Promise","resolve","x","y","width","height","reject","requestAnimationFrame","measure","borderRadius","_ox","_oy","copilot","ref","onLayout","React","children","defaultProps","TourGuideContext","canStart","_default","Step","Wrapper","style","View","TourGuideZone","isTourGuide","zone","shape","text","maskOffset","keepTooltipPosition","tooltipBottomOffset","borderRadiusObject","order","getPrevStep","steps","step","Object","values","filter","_step","reduce","a","b","getNextStep","headPath","cleanPath","memoize","path","replace","trim","getCanvasPath","canvasPath","match","getBorderRadiusOrDefault","defaultRadius","defaultSvgPath","size","position","radius","borderRadiusTopRight","topRight","borderRadiusTopLeft","topLeft","borderRadiusBottomRight","bottomRight","borderRadiusBottomLeft","bottomLeft","circleSvgPath","Math","round","max","join","sizeOffset","positionOffset","getMaxSegmentLength","getSplitPathSliceOne","splitPath","splitPathString","length","slice","getInterpolator","previousPath","options","maxSegmentLength","optionsKeep","single","getDefaultInterpolate","interpolate","getCircleInterpolator","toCircle","separate","StyleSheet","create","container","left","top","right","bottom","zIndex","tooltip","paddingHorizontal","overflow","paddingTop","alignItems","justifyContent","paddingBottom","Z_INDEX","nonInteractionPlaceholder","backgroundColor","tooltipText","textAlign","tooltipContainer","flex","button","padding","buttonText","color","bottomBar","marginTop","flexDirection","overlayContainer","AnimatedSvgPath","Path","IS_NATIVE","Platform","OS","SvgMask","mask","createRef","windowDimensions","handleLayout","nativeEvent","layout","getFirstPath","setState","canvasSize","calculateMargin","_a","state","getPath","animation","currentStep","to","interpolator","clamp","_value","svgMaskPathMorph","animationListener","d","rafID","current","_touchableNode","setAttribute","animate","animations","Animated","timing","toValue","duration","animationDuration","easing","useNativeDriver","opacity","push","parallel","stopTogether","start","result","finished","setValue","select","android","Dimensions","get","default","firstPath","Value","listenerID","addListener","removeListener","cancelAnimationFrame","dismissOnPress","stop","TouchableWithoutFeedback","createElement","pointerEvents","onPress","undefined","Svg","fill","backdropColor","strokeWidth","fillRule","Component","Easing","linear","Button","wrapperStyle","rest","styles","Text","testID","Tooltip","isFirstStep","isLastStep","handleNext","handlePrev","handleStop","labels","TouchableOpacity","skip","previous","finish","next","Modal","containerVisible","tooltipTranslateY","handleLayoutChange","prev","renderMask","visible","reset","setLayout","async","androidStatusBarVisible","StatusBar","currentHeight","center","relativeToLeft","relativeToTop","relativeToBottom","abs","relativeToRight","horizontalPosition","maxWidth","verticalPosition","translateAnim","delay","opacityAnim","floor","_animateMove","then","TooltipComponent","tooltipComponent","key","tooltipStyle","transform","translateY","preventOutsideInteraction","absoluteFill","contentVisible","renderNonInteractionPlaceholder","renderTooltip","elastic","isHorizontal","useMemo","useEffect","useState","useRef","TourGuideProvider","verticalOffset","horizontalOffset","startAtMount","setTourKey","updateVisible","setVisible","value","newVisible","updateCurrentStep","setSteps","setCanStart","startTries","mounted","isMounted","useIsMounted","eventEmitter","mitt","modal","emit","moveToCurrentStep","Array","isArray","entries","newObj","isNaN","_b","animateMove","OFFSET_WIDTH","setCurrentStep","newStep","getFirstStep","utils","getLastStep","keys","forEach","_next","_prev","fromStep","Provider","previousSteps","newSteps","stepName","val","getCurrentStep","TourGuideZoneByPosition","containerStyle","absoluteFillObject","useTourGuideController","_eventEmitter","_canStart","KeyedTourGuideZone","KeyedTourGuideZoneByPosition"],"mappings":"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","file":"static/js/app.2afe7be0.chunk.js","sourcesContent":["import * as React from 'react';\nexport class ConnectedStep extends React.Component {\n    componentDidMount() {\n        if (this.props.active) {\n            this.register();\n        }\n    }\n    componentDidUpdate(prevProps) {\n        if (this.props.active !== prevProps.active) {\n            if (this.props.active) {\n                this.register();\n            }\n            else {\n                this.unregister();\n            }\n        }\n    }\n    componentWillUnmount() {\n        this.unregister();\n    }\n    setNativeProps(obj) {\n        this.wrapper.setNativeProps(obj);\n    }\n    register() {\n        if (this.props.context && this.props.context.registerStep) {\n            this.props.context.registerStep(this.props.tourKey, {\n                target: this,\n                wrapper: this.wrapper,\n                ...this.props,\n            });\n        }\n        else {\n            console.warn('context undefined');\n        }\n    }\n    unregister() {\n        if (this.props.context && this.props.context.unregisterStep) {\n            this.props.context.unregisterStep(this.props.tourKey, this.props.name);\n        }\n        else {\n            console.warn('unregisterStep undefined');\n        }\n    }\n    measure() {\n        if (typeof __TEST__ !== 'undefined' && __TEST__) {\n            return new Promise((resolve) => resolve({\n                x: 0,\n                y: 0,\n                width: 0,\n                height: 0,\n            }));\n        }\n        return new Promise((resolve, reject) => {\n            const measure = () => {\n                if (this.wrapper && this.wrapper.measure) {\n                    const { borderRadius } = this.props;\n                    this.wrapper.measure((_ox, _oy, width, height, x, y) => resolve({\n                        x: borderRadius ? x + borderRadius : x,\n                        y,\n                        width: borderRadius ? width - borderRadius * 2 : width,\n                        height,\n                    }), reject);\n                }\n                else {\n                    requestAnimationFrame(measure);\n                }\n            };\n            requestAnimationFrame(measure);\n        });\n    }\n    render() {\n        const copilot = {\n            ref: (wrapper) => {\n                this.wrapper = wrapper;\n            },\n            onLayout: () => { },\n        };\n        return React.cloneElement(this.props.children, { copilot });\n    }\n}\nConnectedStep.defaultProps = {\n    active: true,\n};\n","import * as React from 'react';\nexport const TourGuideContext = React.createContext({\n    canStart: { _default: false },\n});\n","import * as React from 'react';\nimport { ConnectedStep } from './ConnectedStep';\nimport { TourGuideContext } from './TourGuideContext';\nexport const Step = (props) => {\n    const context = React.useContext(TourGuideContext);\n    return React.createElement(ConnectedStep, { ...{ ...props, context } });\n};\n","import * as React from 'react';\nimport { View } from 'react-native';\nexport const Wrapper = ({ copilot, children, style }) => (React.createElement(View, { style: style, ...copilot }, children));\n","import * as React from 'react';\nimport { Step } from './Step';\nimport { Wrapper } from './Wrapper';\nexport const TourGuideZone = ({ isTourGuide = true, tourKey = '_default', zone, children, shape, text, maskOffset, borderRadius, style, keepTooltipPosition, tooltipBottomOffset, borderRadiusObject, }) => {\n    if (!isTourGuide) {\n        return React.createElement(React.Fragment, null, children);\n    }\n    return (React.createElement(Step, { text: text !== null && text !== void 0 ? text : `Zone ${zone}`, order: zone, name: `${zone}`, ...{\n            tourKey,\n            shape,\n            maskOffset,\n            borderRadius,\n            keepTooltipPosition,\n            tooltipBottomOffset,\n            borderRadiusObject,\n        } },\n        React.createElement(Wrapper, { ...{ style } }, children)));\n};\n","import { interpolate, separate, splitPathString, toCircle } from 'flubber';\nimport clamp from 'lodash.clamp';\nimport memoize from 'memoize-one';\nexport const getFirstStep = (steps) => steps &&\n    Object.values(steps).reduce((a, b) => (!a || a.order > b.order ? b : a), null);\nexport const getLastStep = (steps) => steps &&\n    Object.values(steps).reduce((a, b) => (!a || a.order < b.order ? b : a), null);\nexport const getStepNumber = (steps, step) => step &&\n    Object.values(steps).filter((_step) => _step.order <= step.order).length;\nexport const getPrevStep = (steps, step) => Object.values(steps)\n    .filter((_step) => _step.order < step.order)\n    .reduce((a, b) => (!a || a.order < b.order ? b : a), null);\nexport const getNextStep = (steps, step) => Object.values(steps)\n    .filter((_step) => _step.order > step.order)\n    .reduce((a, b) => (!a || a.order > b.order ? b : a), null) ||\n    step;\nconst headPath = /^M0,0H\\d*\\.?\\d*V\\d*\\.?\\d*H0V0Z/;\nconst cleanPath = memoize((path) => path.replace(headPath, '').trim());\nconst getCanvasPath = memoize((path) => {\n    const canvasPath = path.match(headPath);\n    if (canvasPath) {\n        return canvasPath[0];\n    }\n    return '';\n});\nconst getBorderRadiusOrDefault = (borderRadius, defaultRadius = 0) => (borderRadius || borderRadius === 0 ? borderRadius : defaultRadius);\nexport const defaultSvgPath = ({ size, position, borderRadius: radius, borderRadiusObject, }) => {\n    if (radius || borderRadiusObject) {\n        const borderRadiusTopRight = getBorderRadiusOrDefault(borderRadiusObject === null || borderRadiusObject === void 0 ? void 0 : borderRadiusObject.topRight, radius);\n        const borderRadiusTopLeft = getBorderRadiusOrDefault(borderRadiusObject === null || borderRadiusObject === void 0 ? void 0 : borderRadiusObject.topLeft, radius);\n        const borderRadiusBottomRight = getBorderRadiusOrDefault(borderRadiusObject === null || borderRadiusObject === void 0 ? void 0 : borderRadiusObject.bottomRight, radius);\n        const borderRadiusBottomLeft = getBorderRadiusOrDefault(borderRadiusObject === null || borderRadiusObject === void 0 ? void 0 : borderRadiusObject.bottomLeft, radius);\n        return `M${position.x},${position.y}H${position.x + size.x} a${borderRadiusTopRight},${borderRadiusTopRight} 0 0 1 ${borderRadiusTopRight},${borderRadiusTopRight}V${position.y + size.y - borderRadiusTopRight} a${borderRadiusBottomRight},${borderRadiusBottomRight} 0 0 1 -${borderRadiusBottomRight},${borderRadiusBottomRight}H${position.x} a${borderRadiusBottomLeft},${borderRadiusBottomLeft} 0 0 1 -${borderRadiusBottomLeft},-${borderRadiusBottomLeft}V${position.y +\n            (borderRadiusBottomLeft > borderRadiusTopLeft\n                ? borderRadiusTopLeft\n                : borderRadiusBottomLeft)} a${borderRadiusTopLeft},${borderRadiusTopLeft} 0 0 1 ${borderRadiusTopLeft},-${borderRadiusTopLeft}Z`;\n    }\n    return `M${position.x},${position.y}H${position.x + size.x}V${position.y + size.y}H${position.x}V${position.y}Z`;\n};\nexport const circleSvgPath = ({ size, position, }) => {\n    const radius = Math.round(Math.max(size.x, size.y) / 2);\n    return [\n        `M${position.x - size.x / 8},${position.y + size.y / 2}`,\n        `a${radius} ${radius} 0 1 0 ${radius * 2} 0 ${radius} ${radius} 0 1 0-${radius * 2} 0`,\n    ].join('');\n};\nconst sizeOffset = memoize((size, maskOffset = 0) => maskOffset\n    ? {\n        x: size.x + maskOffset,\n        y: size.y + maskOffset,\n    }\n    : size);\nconst positionOffset = memoize((position, maskOffset = 0) => maskOffset\n    ? {\n        x: position.x - maskOffset / 2,\n        y: position.y - maskOffset / 2,\n    }\n    : position);\nconst getMaxSegmentLength = memoize((shape) => {\n    switch (shape) {\n        case 'circle':\n        case 'circle_and_keep':\n            return 7;\n        case 'rectangle_and_keep':\n            return 25;\n        default:\n            return 15;\n    }\n});\nconst getSplitPathSliceOne = memoize((path) => {\n    const splitPath = splitPathString(path);\n    return splitPath.length > 1 ? splitPath.slice(1).join('') : path;\n});\nconst getInterpolator = memoize((previousPath, shape, position, size, maskOffset = 0, borderRadius = 0, borderRadiusObject) => {\n    const options = {\n        maxSegmentLength: getMaxSegmentLength(shape),\n    };\n    const optionsKeep = { single: true };\n    const getDefaultInterpolate = () => interpolate(previousPath, defaultSvgPath({\n        size: sizeOffset(size, maskOffset),\n        position: positionOffset(position, maskOffset),\n        borderRadius,\n        borderRadiusObject,\n    }), options);\n    const getCircleInterpolator = () => toCircle(previousPath, position.x + size.x / 2, position.y + size.y / 2, Math.max(size.x, size.y) / 2 + maskOffset, options);\n    switch (shape) {\n        case 'circle':\n            return getCircleInterpolator();\n        case 'rectangle':\n            return getDefaultInterpolate();\n        case 'circle_and_keep': {\n            const path = getSplitPathSliceOne(previousPath);\n            return separate(previousPath, [\n                path,\n                circleSvgPath({ size: sizeOffset(size, maskOffset), position }),\n            ], optionsKeep);\n        }\n        case 'rectangle_and_keep': {\n            const path = getSplitPathSliceOne(previousPath);\n            return separate(previousPath, [\n                path,\n                defaultSvgPath({\n                    size: sizeOffset(size, maskOffset),\n                    position: positionOffset(position, maskOffset),\n                    borderRadius,\n                    borderRadiusObject,\n                }),\n            ], optionsKeep);\n        }\n        default:\n            return getDefaultInterpolate();\n    }\n});\nexport const svgMaskPathMorph = ({ previousPath, animation, to: { position, size, shape, maskOffset, borderRadius, borderRadiusObject }, }) => {\n    const interpolator = getInterpolator(cleanPath(previousPath), shape, position, size, maskOffset, borderRadius, borderRadiusObject);\n    return `${getCanvasPath(previousPath)}${interpolator(clamp(animation._value, 0, 1))}`;\n};\n","import { StyleSheet } from 'react-native';\nexport const Z_INDEX = 100;\nexport const MARGIN = 13;\nexport const OFFSET_WIDTH = 4;\nexport default StyleSheet.create({\n    container: {\n        position: 'absolute',\n        left: 0,\n        top: 0,\n        right: 0,\n        bottom: 0,\n        zIndex: Z_INDEX,\n    },\n    tooltip: {\n        position: 'absolute',\n        paddingHorizontal: 15,\n        overflow: 'hidden',\n        width: '100%',\n        borderRadius: 16,\n        paddingTop: 24,\n        alignItems: 'center',\n        justifyContent: 'center',\n        paddingBottom: 16,\n        zIndex: Z_INDEX - 1,\n    },\n    nonInteractionPlaceholder: {\n        backgroundColor: 'transparent',\n        zIndex: Z_INDEX - 2,\n    },\n    tooltipText: {\n        textAlign: 'center',\n    },\n    tooltipContainer: {\n        flex: 1,\n        alignItems: 'center',\n        justifyContent: 'space-around',\n        width: '80%',\n    },\n    button: {\n        padding: 10,\n    },\n    buttonText: {\n        color: '#27ae60',\n    },\n    bottomBar: {\n        marginTop: 10,\n        flexDirection: 'row',\n        justifyContent: 'flex-end',\n    },\n    overlayContainer: {\n        position: 'absolute',\n        left: 0,\n        top: 0,\n        bottom: 0,\n        right: 0,\n    },\n});\n","import { Path } from 'react-native-svg';\nexport const AnimatedSvgPath = Path;\n","import React, { Component } from 'react';\nimport { Animated, Dimensions, Easing, Platform, View, TouchableWithoutFeedback, } from 'react-native';\nimport Svg from 'react-native-svg';\nimport { svgMaskPathMorph } from '../utilities';\nimport { AnimatedSvgPath } from './AnimatedPath';\nconst IS_NATIVE = Platform.OS !== 'web';\nexport class SvgMask extends Component {\n    constructor(props) {\n        super(props);\n        this.mask = React.createRef();\n        this.windowDimensions = null;\n        this.handleLayout = ({ nativeEvent: { layout: { width, height }, }, }) => {\n            this.getFirstPath(width, height);\n            this.setState({\n                canvasSize: {\n                    x: width,\n                    y: height,\n                },\n            });\n        };\n        this.calculateMargin = () => {\n            var _a;\n            return this.windowDimensions\n                ? (((_a = this.windowDimensions) === null || _a === void 0 ? void 0 : _a.width) - this.state.canvasSize.x) / 2\n                : 0;\n        };\n        this.getPath = () => {\n            var _a;\n            const { previousPath, animation } = this.state;\n            const { size, position, currentStep, maskOffset, borderRadius } = this.props;\n            const customPosition = this.windowDimensions && ((_a = this.windowDimensions) === null || _a === void 0 ? void 0 : _a.width) > 480\n                ? { x: position.x - this.calculateMargin(), y: position.y }\n                : position;\n            return svgMaskPathMorph({\n                animation: animation,\n                previousPath,\n                to: {\n                    position: customPosition,\n                    size,\n                    shape: currentStep === null || currentStep === void 0 ? void 0 : currentStep.shape,\n                    maskOffset: (currentStep === null || currentStep === void 0 ? void 0 : currentStep.maskOffset) || maskOffset,\n                    borderRadius: (currentStep === null || currentStep === void 0 ? void 0 : currentStep.borderRadius) || borderRadius,\n                    borderRadiusObject: currentStep === null || currentStep === void 0 ? void 0 : currentStep.borderRadiusObject,\n                },\n            });\n        };\n        this.animationListener = () => {\n            const d = this.getPath();\n            this.rafID = requestAnimationFrame(() => {\n                if (this.mask && this.mask.current) {\n                    if (IS_NATIVE) {\n                        this.mask.current.setNativeProps({ d });\n                    }\n                    else {\n                        this.mask.current._touchableNode.setAttribute('d', d);\n                    }\n                }\n            });\n        };\n        this.animate = () => {\n            const animations = [\n                Animated.timing(this.state.animation, {\n                    toValue: 1,\n                    duration: this.props.animationDuration,\n                    easing: this.props.easing,\n                    useNativeDriver: false,\n                }),\n            ];\n            if (this.state.opacity._value !== 1) {\n                animations.push(Animated.timing(this.state.opacity, {\n                    toValue: 1,\n                    duration: this.props.animationDuration,\n                    easing: this.props.easing,\n                    useNativeDriver: true,\n                }));\n            }\n            Animated.parallel(animations, { stopTogether: false }).start((result) => {\n                if (result.finished) {\n                    this.setState({ previousPath: this.getPath() }, () => {\n                        if (this.state.animation._value === 1) {\n                            this.state.animation.setValue(0);\n                        }\n                    });\n                }\n            });\n        };\n        this.windowDimensions = Platform.select({\n            android: Dimensions.get('screen'),\n            default: Dimensions.get('window'),\n        });\n        this.firstPath = `M0,0H${this.windowDimensions.width}V${this.windowDimensions.height}H0V0ZM${this.windowDimensions.width / 2},${this.windowDimensions.height / 2} h 1 v 1 h -1 Z`;\n        this.state = {\n            canvasSize: {\n                x: 0,\n                y: 0,\n            },\n            size: props.size,\n            position: props.position,\n            opacity: new Animated.Value(0),\n            animation: new Animated.Value(0),\n            previousPath: this.getFirstPath(this.windowDimensions.width, this.windowDimensions.height),\n        };\n        this.listenerID = this.state.animation.addListener(this.animationListener);\n    }\n    componentDidUpdate(prevProps) {\n        if (prevProps.position !== this.props.position ||\n            prevProps.size !== this.props.size) {\n            this.animate();\n        }\n    }\n    componentWillUnmount() {\n        if (this.listenerID) {\n            this.state.animation.removeListener(this.listenerID);\n        }\n        if (this.rafID) {\n            cancelAnimationFrame(this.rafID);\n        }\n    }\n    getFirstPath(width, height) {\n        return `M0,0H${width}V${height}H0V0ZM${width / 2},${height / 2} h 1 v 1 h -1 Z`;\n    }\n    render() {\n        const { dismissOnPress, stop } = this.props;\n        const Wrapper = dismissOnPress ? TouchableWithoutFeedback : View;\n        return (React.createElement(Wrapper, { style: this.props.style, onLayout: this.handleLayout, pointerEvents: 'none', onPress: dismissOnPress ? stop : undefined },\n            React.createElement(Svg, { pointerEvents: 'none', width: this.state.canvasSize.x, height: this.state.canvasSize.y },\n                React.createElement(AnimatedSvgPath, { ref: this.mask, fill: this.props.backdropColor, strokeWidth: 0, fillRule: 'evenodd', d: this.getFirstPath(this.state.canvasSize.x, this.state.canvasSize.y), opacity: this.state.opacity, onPress: () => { } }))));\n    }\n}\nSvgMask.defaultProps = {\n    easing: Easing.linear,\n    size: { x: 0, y: 0 },\n    position: { x: 0, y: 0 },\n    maskOffset: 0,\n};\n","import * as React from 'react';\nimport { View, Text } from 'react-native';\nimport styles from './style';\nexport const Button = ({ wrapperStyle, style, children, ...rest }) => (React.createElement(View, { style: [styles.button, wrapperStyle] },\n    React.createElement(Text, { style: [styles.buttonText, style], testID: 'TourGuideButtonText', ...rest }, children)));\n","import * as React from 'react';\nimport { View, Text, TouchableOpacity } from 'react-native';\nimport { Button } from './Button';\nimport styles from './style';\nexport const Tooltip = ({ isFirstStep, isLastStep, handleNext, handlePrev, handleStop, currentStep, labels, }) => (React.createElement(View, { style: {\n        borderRadius: 16,\n        paddingTop: 24,\n        alignItems: 'center',\n        justifyContent: 'center',\n        paddingBottom: 16,\n        width: '80%',\n        backgroundColor: '#ffffffef',\n    } },\n    React.createElement(View, { style: styles.tooltipContainer },\n        React.createElement(Text, { testID: 'stepDescription', style: styles.tooltipText }, currentStep && currentStep.text)),\n    React.createElement(View, { style: [styles.bottomBar] },\n        !isLastStep ? (React.createElement(TouchableOpacity, { onPress: handleStop },\n            React.createElement(Button, null, (labels === null || labels === void 0 ? void 0 : labels.skip) || 'Skip'))) : null,\n        !isFirstStep ? (React.createElement(TouchableOpacity, { onPress: handlePrev },\n            React.createElement(Button, null, (labels === null || labels === void 0 ? void 0 : labels.previous) || 'Previous'))) : null,\n        !isLastStep ? (React.createElement(TouchableOpacity, { onPress: handleNext },\n            React.createElement(Button, null, (labels === null || labels === void 0 ? void 0 : labels.next) || 'Next'))) : (React.createElement(TouchableOpacity, { onPress: handleStop },\n            React.createElement(Button, null, (labels === null || labels === void 0 ? void 0 : labels.finish) || 'Finish'))))));\n","import * as React from 'react';\nimport { Animated, Easing, Platform, StatusBar, StyleSheet, View, } from 'react-native';\nimport styles, { MARGIN } from './style';\nimport { SvgMask } from './SvgMask';\nimport { Tooltip } from './Tooltip';\nexport class Modal extends React.Component {\n    constructor(props) {\n        super(props);\n        this.layout = {\n            x: 0,\n            y: 0,\n            width: 0,\n            height: 0,\n        };\n        this.state = {\n            tooltip: {},\n            containerVisible: false,\n            tooltipTranslateY: new Animated.Value(400),\n            opacity: new Animated.Value(0),\n            layout: undefined,\n            size: undefined,\n            position: undefined,\n        };\n        this.handleLayoutChange = ({ nativeEvent: { layout } }) => {\n            this.layout = layout;\n        };\n        this.handleNext = () => {\n            this.props.next();\n        };\n        this.handlePrev = () => {\n            this.props.prev();\n        };\n        this.handleStop = () => {\n            this.props.stop();\n        };\n        this.renderMask = () => (React.createElement(SvgMask, { style: styles.overlayContainer, size: this.state.size, position: this.state.position, easing: this.props.easing, animationDuration: this.props.animationDuration, backdropColor: this.props.backdropColor, currentStep: this.props.currentStep, maskOffset: this.props.maskOffset, borderRadius: this.props.borderRadius, dismissOnPress: this.props.dismissOnPress, stop: this.props.stop }));\n    }\n    componentDidUpdate(prevProps) {\n        if (prevProps.visible === true && this.props.visible === false) {\n            this.reset();\n        }\n    }\n    measure() {\n        if (typeof __TEST__ !== 'undefined' && __TEST__) {\n            return new Promise((resolve) => resolve({\n                x: 0,\n                y: 0,\n                width: 0,\n                height: 0,\n            }));\n        }\n        return new Promise((resolve) => {\n            const setLayout = () => {\n                if (this.layout && this.layout.width !== 0) {\n                    resolve(this.layout);\n                }\n                else {\n                    requestAnimationFrame(setLayout);\n                }\n            };\n            setLayout();\n        });\n    }\n    async _animateMove(obj = {\n        top: 0,\n        left: 0,\n        width: 0,\n        height: 0,\n    }) {\n        var _a;\n        const layout = await this.measure();\n        if (!this.props.androidStatusBarVisible && Platform.OS === 'android') {\n            obj.top -= StatusBar.currentHeight || 30;\n        }\n        const center = {\n            x: obj.left + obj.width / 2,\n            y: obj.top + obj.height / 2,\n        };\n        const relativeToLeft = center.x;\n        const relativeToTop = center.y;\n        const relativeToBottom = Math.abs(center.y - layout.height);\n        const relativeToRight = Math.abs(center.x - layout.width);\n        const verticalPosition = relativeToBottom > relativeToTop ? 'bottom' : 'top';\n        const horizontalPosition = relativeToLeft > relativeToRight ? 'left' : 'right';\n        const tooltip = {\n            top: 0,\n            tooltip: 0,\n            bottom: 0,\n            right: 0,\n            maxWidth: 0,\n            left: 0,\n        };\n        if (verticalPosition === 'bottom') {\n            tooltip.top = obj.top + obj.height + MARGIN;\n        }\n        else {\n            tooltip.bottom = layout.height - (obj.top - MARGIN);\n        }\n        if (horizontalPosition === 'left') {\n            tooltip.right = Math.max(layout.width - (obj.left + obj.width), 0);\n            tooltip.right =\n                tooltip.right === 0 ? tooltip.right + MARGIN : tooltip.right;\n            tooltip.maxWidth = layout.width - tooltip.right - MARGIN;\n        }\n        else {\n            tooltip.left = Math.max(obj.left, 0);\n            tooltip.left = tooltip.left === 0 ? tooltip.left + MARGIN : tooltip.left;\n            tooltip.maxWidth = layout.width - tooltip.left - MARGIN;\n        }\n        const duration = this.props.animationDuration + 200;\n        const toValue = verticalPosition === 'bottom'\n            ? tooltip.top\n            : obj.top -\n                MARGIN -\n                135 -\n                (this.props.currentStep.tooltipBottomOffset || 0);\n        const translateAnim = Animated.timing(this.state.tooltipTranslateY, {\n            toValue,\n            duration,\n            easing: this.props.easing,\n            delay: duration,\n            useNativeDriver: true,\n        });\n        const opacityAnim = Animated.timing(this.state.opacity, {\n            toValue: 1,\n            duration,\n            easing: this.props.easing,\n            delay: duration,\n            useNativeDriver: true,\n        });\n        this.state.opacity.setValue(0);\n        if (toValue !== this.state.tooltipTranslateY._value &&\n            !((_a = this.props.currentStep) === null || _a === void 0 ? void 0 : _a.keepTooltipPosition)) {\n            Animated.parallel([translateAnim, opacityAnim]).start();\n        }\n        else {\n            opacityAnim.start();\n        }\n        this.setState({\n            tooltip,\n            layout,\n            size: {\n                x: obj.width,\n                y: obj.height,\n            },\n            position: {\n                x: Math.floor(Math.max(obj.left, 0)),\n                y: Math.floor(Math.max(obj.top, 0)),\n            },\n        });\n    }\n    animateMove(obj = {}) {\n        return new Promise((resolve) => {\n            this.setState({ containerVisible: true }, () => this._animateMove(obj).then(resolve));\n        });\n    }\n    reset() {\n        this.setState({\n            containerVisible: false,\n            layout: undefined,\n        });\n    }\n    renderTooltip() {\n        const { tooltipComponent: TooltipComponent, visible } = this.props;\n        if (!visible) {\n            return null;\n        }\n        const { opacity } = this.state;\n        return (React.createElement(Animated.View, { pointerEvents: 'box-none', key: 'tooltip', style: [\n                styles.tooltip,\n                this.props.tooltipStyle,\n                {\n                    zIndex: 99,\n                    opacity,\n                    transform: [{ translateY: this.state.tooltipTranslateY }],\n                },\n            ] },\n            React.createElement(TooltipComponent, { isFirstStep: this.props.isFirstStep, isLastStep: this.props.isLastStep, currentStep: this.props.currentStep, handleNext: this.handleNext, handlePrev: this.handlePrev, handleStop: this.handleStop, labels: this.props.labels })));\n    }\n    renderNonInteractionPlaceholder() {\n        return this.props.preventOutsideInteraction ? (React.createElement(View, { style: [StyleSheet.absoluteFill, styles.nonInteractionPlaceholder] })) : null;\n    }\n    render() {\n        const containerVisible = this.state.containerVisible || this.props.visible;\n        const contentVisible = this.state.layout && containerVisible;\n        if (!containerVisible) {\n            return null;\n        }\n        return (React.createElement(View, { style: [StyleSheet.absoluteFill, { backgroundColor: 'transparent' }], pointerEvents: 'box-none' },\n            React.createElement(View, { style: styles.container, onLayout: this.handleLayoutChange, pointerEvents: 'box-none' }, contentVisible && (React.createElement(React.Fragment, null,\n                this.renderMask(),\n                this.renderNonInteractionPlaceholder(),\n                this.renderTooltip())))));\n    }\n}\nModal.defaultProps = {\n    easing: Easing.elastic(0.7),\n    animationDuration: 400,\n    tooltipComponent: Tooltip,\n    tooltipStyle: {},\n    androidStatusBarVisible: false,\n    backdropColor: 'rgba(0, 0, 0, 0.4)',\n    labels: {},\n    isHorizontal: false,\n    preventOutsideInteraction: false,\n};\n","import mitt from 'mitt';\nimport * as React from 'react';\nimport { StyleSheet, View } from 'react-native';\nimport { TourGuideContext } from './TourGuideContext';\nimport { useIsMounted } from '../hooks/useIsMounted';\nimport * as utils from '../utilities';\nimport { Modal } from './Modal';\nimport { OFFSET_WIDTH } from './style';\nconst { useMemo, useEffect, useState, useRef } = React;\nconst MAX_START_TRIES = 120;\nexport const TourGuideProvider = ({ children, wrapperStyle, labels, tooltipComponent, tooltipStyle, androidStatusBarVisible, backdropColor, animationDuration, maskOffset, borderRadius, verticalOffset, horizontalOffset, startAtMount = false, dismissOnPress = false, preventOutsideInteraction = false, }) => {\n    const [tourKey, setTourKey] = useState('_default');\n    const [visible, updateVisible] = useState({\n        _default: false,\n    });\n    const setVisible = (key, value) => updateVisible((visible) => {\n        const newVisible = { ...visible };\n        newVisible[key] = value;\n        return newVisible;\n    });\n    const [currentStep, updateCurrentStep] = useState({\n        _default: undefined,\n    });\n    const [steps, setSteps] = useState({ _default: [] });\n    const [canStart, setCanStart] = useState({ _default: false });\n    const startTries = useRef(0);\n    const { current: mounted } = useIsMounted();\n    const { current: eventEmitter } = useRef({\n        _default: new mitt(),\n    });\n    const modal = useRef();\n    useEffect(() => {\n        var _a;\n        if (mounted && visible[tourKey] === false) {\n            (_a = eventEmitter[tourKey]) === null || _a === void 0 ? void 0 : _a.emit('stop');\n        }\n    }, [visible]);\n    useEffect(() => {\n        if (visible[tourKey] || currentStep[tourKey]) {\n            moveToCurrentStep(tourKey);\n        }\n    }, [visible, currentStep]);\n    useEffect(() => {\n        if (mounted) {\n            if (steps[tourKey]) {\n                if ((Array.isArray(steps[tourKey]) && steps[tourKey].length > 0) ||\n                    Object.entries(steps[tourKey]).length > 0) {\n                    setCanStart((obj) => {\n                        const newObj = { ...obj };\n                        newObj[tourKey] = true;\n                        return newObj;\n                    });\n                    if (typeof startAtMount === 'string') {\n                        start(startAtMount);\n                    }\n                    else if (startAtMount) {\n                        start('_default');\n                    }\n                }\n                else {\n                    setCanStart((obj) => {\n                        const newObj = { ...obj };\n                        newObj[tourKey] = false;\n                        return newObj;\n                    });\n                }\n            }\n        }\n    }, [mounted, steps]);\n    const moveToCurrentStep = async (key) => {\n        var _a, _b;\n        const size = await ((_a = currentStep[key]) === null || _a === void 0 ? void 0 : _a.target.measure());\n        if (isNaN(size.width) ||\n            isNaN(size.height) ||\n            isNaN(size.x) ||\n            isNaN(size.y)) {\n            return;\n        }\n        await ((_b = modal.current) === null || _b === void 0 ? void 0 : _b.animateMove({\n            width: size.width + OFFSET_WIDTH,\n            height: size.height + OFFSET_WIDTH,\n            left: Math.round(size.x) - OFFSET_WIDTH / 2 + (horizontalOffset || 0),\n            top: Math.round(size.y) - OFFSET_WIDTH / 2 + (verticalOffset || 0),\n        }));\n    };\n    const setCurrentStep = (key, step) => new Promise((resolve) => {\n        updateCurrentStep((currentStep) => {\n            var _a;\n            const newStep = { ...currentStep };\n            newStep[key] = step;\n            (_a = eventEmitter[key]) === null || _a === void 0 ? void 0 : _a.emit('stepChange', step);\n            return newStep;\n        });\n        resolve();\n    });\n    const getNextStep = (key, step = currentStep[key]) => utils.getNextStep(steps[key], step);\n    const getPrevStep = (key, step = currentStep[key]) => utils.getPrevStep(steps[key], step);\n    const getFirstStep = (key) => utils.getFirstStep(steps[key]);\n    const getLastStep = (key) => utils.getLastStep(steps[key]);\n    const isFirstStep = useMemo(() => {\n        const obj = {};\n        Object.keys(currentStep).forEach((key) => {\n            obj[key] = currentStep[key] === getFirstStep(key);\n        });\n        return obj;\n    }, [currentStep]);\n    const isLastStep = useMemo(() => {\n        const obj = {};\n        Object.keys(currentStep).forEach((key) => {\n            obj[key] = currentStep[key] === getLastStep(key);\n        });\n        return obj;\n    }, [currentStep]);\n    const _next = (key) => setCurrentStep(key, getNextStep(key));\n    const _prev = (key) => setCurrentStep(key, getPrevStep(key));\n    const _stop = (key) => {\n        setVisible(key, false);\n        setCurrentStep(key, undefined);\n    };\n    const registerStep = (key, step) => {\n        setSteps((previousSteps) => {\n            const newSteps = { ...previousSteps };\n            newSteps[key] = {\n                ...previousSteps[key],\n                [step.name]: step,\n            };\n            return newSteps;\n        });\n        if (!eventEmitter[key]) {\n            eventEmitter[key] = new mitt();\n        }\n    };\n    const unregisterStep = (key, stepName) => {\n        if (!mounted) {\n            return;\n        }\n        setSteps((previousSteps) => {\n            const newSteps = { ...previousSteps };\n            newSteps[key] = Object.entries(previousSteps[key])\n                .filter(([key]) => key !== stepName)\n                .reduce((obj, [key, val]) => Object.assign(obj, { [key]: val }), {});\n            return newSteps;\n        });\n    };\n    const getCurrentStep = (key) => currentStep[key];\n    const start = async (key, fromStep) => {\n        var _a;\n        const currentStep = fromStep\n            ? steps[key][fromStep]\n            : getFirstStep(key);\n        if (startTries.current > MAX_START_TRIES) {\n            startTries.current = 0;\n            return;\n        }\n        if (!currentStep) {\n            startTries.current += 1;\n            requestAnimationFrame(() => start(key, fromStep));\n        }\n        else {\n            (_a = eventEmitter[key]) === null || _a === void 0 ? void 0 : _a.emit('start');\n            await setCurrentStep(key, currentStep);\n            setVisible(key, true);\n            startTries.current = 0;\n        }\n    };\n    const next = () => _next(tourKey);\n    const prev = () => _prev(tourKey);\n    const stop = () => _stop(tourKey);\n    return (React.createElement(View, { style: [styles.container, wrapperStyle] },\n        React.createElement(TourGuideContext.Provider, { value: {\n                eventEmitter,\n                registerStep,\n                unregisterStep,\n                getCurrentStep,\n                start,\n                stop,\n                canStart,\n                setTourKey,\n            } },\n            children,\n            React.createElement(Modal, { ref: modal, ...{\n                    next,\n                    prev,\n                    stop,\n                    visible: visible[tourKey],\n                    isFirstStep: isFirstStep[tourKey],\n                    isLastStep: isLastStep[tourKey],\n                    currentStep: currentStep[tourKey],\n                    labels,\n                    tooltipComponent,\n                    tooltipStyle,\n                    androidStatusBarVisible,\n                    backdropColor,\n                    animationDuration,\n                    maskOffset,\n                    borderRadius,\n                    dismissOnPress,\n                    preventOutsideInteraction,\n                } }))));\n};\nconst styles = StyleSheet.create({\n    container: {\n        flex: 1,\n    },\n});\n","import * as React from 'react';\nexport const useIsMounted = () => {\n    const isMounted = React.useRef(false);\n    React.useEffect(() => {\n        isMounted.current = true;\n        return () => {\n            isMounted.current = false;\n        };\n    }, []);\n    return isMounted;\n};\n","import * as React from 'react';\nimport { StyleSheet, View } from 'react-native';\nimport { TourGuideZone } from './TourGuideZone';\nexport const TourGuideZoneByPosition = ({ isTourGuide, zone, tourKey = '_default', width, height, top, left, right, bottom, shape, containerStyle, keepTooltipPosition, tooltipBottomOffset, borderRadiusObject, text, }) => {\n    if (!isTourGuide) {\n        return null;\n    }\n    return (React.createElement(View, { pointerEvents: 'none', style: [StyleSheet.absoluteFillObject, containerStyle] },\n        React.createElement(TourGuideZone, { isTourGuide: true, ...{\n                tourKey,\n                zone,\n                shape,\n                keepTooltipPosition,\n                tooltipBottomOffset,\n                borderRadiusObject,\n                text,\n            }, style: {\n                position: 'absolute',\n                height,\n                width,\n                top,\n                right,\n                bottom,\n                left,\n            } })));\n};\n","import * as React from 'react';\nimport { TourGuideContext } from '../components/TourGuideContext';\nimport { TourGuideZone } from '../components/TourGuideZone';\nimport { TourGuideZoneByPosition, } from '../components/TourGuideZoneByPosition';\nexport const useTourGuideController = (tourKey) => {\n    const { start, canStart, stop, eventEmitter, getCurrentStep, setTourKey } = React.useContext(TourGuideContext);\n    const key = tourKey !== null && tourKey !== void 0 ? tourKey : '_default';\n    const _start = (fromStep) => {\n        if (setTourKey) {\n            setTourKey(key);\n        }\n        if (start) {\n            start(key, fromStep);\n        }\n    };\n    const _stop = () => {\n        if (stop) {\n            stop(key);\n        }\n    };\n    const _eventEmitter = eventEmitter ? eventEmitter[key] : undefined;\n    const _canStart = canStart ? canStart[key] : undefined;\n    const _getCurrentStep = () => {\n        if (getCurrentStep) {\n            return getCurrentStep(key);\n        }\n        return undefined;\n    };\n    React.useEffect(() => {\n        if (setTourKey) {\n            setTourKey(key);\n        }\n    }, []);\n    const KeyedTourGuideZone = React.useCallback(({ children, ...rest }) => {\n        return (React.createElement(TourGuideZone, { ...rest, tourKey: key }, children));\n    }, [key]);\n    const KeyedTourGuideZoneByPosition = React.useCallback((props) => {\n        return React.createElement(TourGuideZoneByPosition, { ...props, tourKey: key });\n    }, [key]);\n    return {\n        start: _start,\n        stop: _stop,\n        eventEmitter: _eventEmitter,\n        getCurrentStep: _getCurrentStep,\n        canStart: _canStart,\n        tourKey: key,\n        TourGuideZone: KeyedTourGuideZone,\n        TourGuideZoneByPosition: KeyedTourGuideZoneByPosition,\n    };\n};\n"],"sourceRoot":""}