{"version":3,"sources":["lib/components/ConnectedStep.js","lib/components/TourGuideContext.js","lib/components/Step.js","lib/components/Wrapper.js","lib/components/TourGuideZone.js","lib/utilities.js","lib/components/style.js","lib/components/AnimatedPath.web.js","lib/components/SvgMask.js","lib/components/Button.js","lib/components/Tooltip.js","lib/components/Modal.js","lib/components/TourGuideProvider.js","lib/hooks/useIsMounted.js","lib/components/TourGuideZoneByPosition.js","lib/hooks/useTourGuideController.js"],"names":["ConnectedStep","this","props","active","register","prevProps","unregister","obj","wrapper","setNativeProps","context","registerStep","tourKey","target","console","warn","unregisterStep","name","__TEST__","Promise","resolve","x","y","width","height","reject","requestAnimationFrame","measure","borderRadius","_ox","_oy","copilot","ref","onLayout","React","children","defaultProps","TourGuideContext","canStart","_default","Step","Wrapper","style","View","TourGuideZone","isTourGuide","zone","shape","text","maskOffset","keepTooltipPosition","tooltipBottomOffset","borderRadiusObject","order","getPrevStep","steps","step","Object","values","filter","_step","reduce","a","b","getNextStep","headPath","cleanPath","memoize","path","replace","trim","getCanvasPath","canvasPath","match","getBorderRadiusOrDefault","defaultRadius","defaultSvgPath","size","position","radius","borderRadiusTopRight","topRight","borderRadiusTopLeft","topLeft","borderRadiusBottomRight","bottomRight","borderRadiusBottomLeft","bottomLeft","circleSvgPath","Math","round","max","join","sizeOffset","positionOffset","getMaxSegmentLength","getSplitPathSliceOne","splitPath","splitPathString","length","slice","getInterpolator","previousPath","options","maxSegmentLength","optionsKeep","single","getDefaultInterpolate","interpolate","getCircleInterpolator","toCircle","separate","StyleSheet","create","container","left","top","right","bottom","zIndex","tooltip","paddingHorizontal","overflow","paddingTop","alignItems","justifyContent","paddingBottom","Z_INDEX","nonInteractionPlaceholder","backgroundColor","tooltipText","textAlign","tooltipContainer","flex","button","padding","buttonText","color","bottomBar","marginTop","flexDirection","overlayContainer","AnimatedSvgPath","Path","IS_NATIVE","Platform","OS","SvgMask","mask","createRef","windowDimensions","getPath","state","animation","currentStep","to","interpolator","clamp","_value","svgMaskPathMorph","animationListener","d","rafID","current","_touchableNode","setAttribute","animate","animations","Animated","timing","toValue","duration","animationDuration","easing","useNativeDriver","opacity","push","parallel","stopTogether","start","result","finished","setState","setValue","handleLayout","nativeEvent","layout","canvasSize","select","android","Dimensions","get","web","default","firstPath","maxWidthWeb","webFirstPath","Value","listenerID","addListener","removeListener","cancelAnimationFrame","dismissOnPress","stop","TouchableWithoutFeedback","createElement","pointerEvents","onPress","undefined","Svg","fill","backdropColor","strokeWidth","fillRule","Component","Easing","linear","Button","wrapperStyle","rest","styles","Text","testID","Tooltip","isFirstStep","isLastStep","handleNext","handlePrev","handleStop","labels","TouchableOpacity","skip","previous","finish","next","Modal","containerVisible","tooltipTranslateY","handleLayoutChange","prev","renderMask","visible","reset","setLayout","async","androidStatusBarVisible","StatusBar","currentHeight","center","relativeToLeft","relativeToTop","relativeToBottom","abs","relativeToRight","horizontalPosition","maxWidth","verticalPosition","translateAnim","delay","opacityAnim","_a","floor","_animateMove","then","TooltipComponent","tooltipComponent","key","tooltipStyle","transform","translateY","preventOutsideInteraction","absoluteFill","contentVisible","renderNonInteractionPlaceholder","renderTooltip","elastic","isHorizontal","useMemo","useEffect","useState","useRef","TourGuideProvider","verticalOffset","startAtMount","setTourKey","updateVisible","setVisible","value","newVisible","updateCurrentStep","setSteps","setCanStart","startTries","mounted","isMounted","useIsMounted","eventEmitter","mitt","modal","emit","moveToCurrentStep","Array","isArray","entries","newObj","isNaN","_b","animateMove","OFFSET_WIDTH","setCurrentStep","newStep","getFirstStep","utils","getLastStep","keys","forEach","_next","_prev","fromStep","Provider","previousSteps","newSteps","stepName","val","getCurrentStep","TourGuideZoneByPosition","containerStyle","absoluteFillObject","useTourGuideController","_eventEmitter","_canStart","KeyedTourGuideZone","KeyedTourGuideZoneByPosition"],"mappings":"srCACO,IAAMA,EAAa,wFA6ErB,OA7EqB,sCACtB,WACQC,KAAKC,MAAMC,QACXF,KAAKG,aAEZ,gCACD,SAAmBC,GACXJ,KAAKC,MAAMC,SAAWE,EAAUF,SAC5BF,KAAKC,MAAMC,OACXF,KAAKG,WAGLH,KAAKK,gBAGhB,kCACD,WACIL,KAAKK,eACR,4BACD,SAAeC,GACXN,KAAKO,QAAQC,eAAeF,KAC/B,sBACD,WACQN,KAAKC,MAAMQ,SAAWT,KAAKC,MAAMQ,QAAQC,aACzCV,KAAKC,MAAMQ,QAAQC,aAAaV,KAAKC,MAAMU,Q,iWAAQ,CAAD,CAC9CC,OAAQZ,KACRO,QAASP,KAAKO,SACXP,KAAKC,QAIZY,QAAQC,KAAK,uBAEpB,wBACD,WACQd,KAAKC,MAAMQ,SAAWT,KAAKC,MAAMQ,QAAQM,eACzCf,KAAKC,MAAMQ,QAAQM,eAAef,KAAKC,MAAMU,QAASX,KAAKC,MAAMe,MAGjEH,QAAQC,KAAK,8BAEpB,qBACD,WAAW,IAAD,OACN,MAAwB,qBAAbG,UAA4BA,SAC5B,IAAIC,SAAQ,SAACC,GAAO,OAAKA,EAAQ,CACpCC,EAAG,EACHC,EAAG,EACHC,MAAO,EACPC,OAAQ,OAGT,IAAIL,SAAQ,SAACC,EAASK,GAezBC,uBAdgB,SAAVC,IACF,GAAI,EAAKnB,SAAW,EAAKA,QAAQmB,QAAS,CACtC,IAAQC,EAAiB,EAAK1B,MAAtB0B,aACR,EAAKpB,QAAQmB,SAAQ,SAACE,EAAKC,EAAKP,EAAOC,EAAQH,EAAGC,GAAC,OAAKF,EAAQ,CAC5DC,EAAGO,EAAeP,EAAIO,EAAeP,EACrCC,IACAC,MAAOK,EAAeL,EAAuB,EAAfK,EAAmBL,EACjDC,aACAC,QAGJC,sBAAsBC,WAKrC,oBACD,WAAU,IAAD,OACCI,EAAU,CACZC,IAAK,SAACxB,GACF,EAAKA,QAAUA,GAEnByB,SAAU,cAEd,OAAOC,eAAmBjC,KAAKC,MAAMiC,SAAU,CAAEJ,gBACpD,EA7EqB,CAASG,aA+EnClC,EAAcoC,aAAe,CACzBjC,QAAQ,GChFL,IAAMkC,EAAmBH,gBAAoB,CAChDI,SAAU,CAAEC,UAAU,K,ikBCCnB,IAAMC,EAAO,SAACtC,GACjB,IAAMQ,EAAUwB,aAAiBG,GACjC,OAAOH,gBAAoBlC,EAAc,YAAWE,GAAK,IAAEQ,e,qOCHxD,IAAM+B,EAAU,SAAH,OAAMV,EAAO,EAAPA,QAASI,EAAQ,EAARA,SAAUO,EAAK,EAALA,MAAK,OAAQR,gBAAoBS,U,iWAAK,EAAGD,MAAOA,GAAUX,GAAWI,I,ikBCC3G,IAAMS,EAAgB,SAAH,GAAmL,IAAD,IAA5KC,mBAAW,OAAO,MAAEjC,eAAO,MAAG,WAAU,EAAEkC,EAAI,EAAJA,KAAMX,EAAQ,EAARA,SAAUY,EAAK,EAALA,MAAOC,EAAI,EAAJA,KAAMC,EAAU,EAAVA,WAAYrB,EAAY,EAAZA,aAAcc,EAAK,EAALA,MAAOQ,EAAmB,EAAnBA,oBAAqBC,EAAmB,EAAnBA,oBAAqBC,EAAkB,EAAlBA,mBAC9K,OAAKP,EAGGX,gBAAoBM,EAAK,GAAGQ,KAAe,OAATA,QAA0B,IAATA,EAAkBA,EAAI,QAAWF,EAAQO,MAAOP,EAAM7B,KAAK,GAAI6B,GAAW,CAC7HlC,UACAmC,QACAE,aACArB,eACAsB,sBACAC,sBACAC,uBAEJlB,gBAAoBO,EAAQ,KAAM,CAAEC,UAAWP,IAXxCD,gBAAoBA,WAAgB,KAAMC,I,oGCI5CmB,EAAc,SAACC,EAAOC,GAAI,OAAKC,OAAOC,OAAOH,GACrDI,QAAO,SAACC,GAAK,OAAKA,EAAMP,MAAQG,EAAKH,SACrCQ,QAAO,SAACC,EAAGC,GAAC,OAAOD,GAAKA,EAAET,MAAQU,EAAEV,MAAQU,EAAID,IAAI,OAC5CE,EAAc,SAACT,EAAOC,GAAI,OAAKC,OAAOC,OAAOH,GACrDI,QAAO,SAACC,GAAK,OAAKA,EAAMP,MAAQG,EAAKH,SACrCQ,QAAO,SAACC,EAAGC,GAAC,OAAOD,GAAKA,EAAET,MAAQU,EAAEV,MAAQU,EAAID,IAAI,OACrDN,GACES,EAAW,iCACXC,EAAYC,mBAAQ,SAACC,GAAI,OAAKA,EAAKC,QAAQJ,EAAU,IAAIK,UACzDC,EAAgBJ,mBAAQ,SAACC,GAC3B,IAAMI,EAAaJ,EAAKK,MAAMR,GAC9B,OAAIO,EACOA,EAAW,GAEf,MAELE,EAA2B,SAAC9C,GAAY,IAAE+C,EAAa,uDAAG,EAAC,OAAM/C,GAAiC,IAAjBA,EAAqBA,EAAe+C,GAC9GC,EAAiB,SAAH,GAAuE,IAAjEC,EAAI,EAAJA,KAAMC,EAAQ,EAARA,SAAwBC,EAAM,EAApBnD,aAAsBwB,EAAkB,EAAlBA,mBACnE,GAAI2B,GAAU3B,EAAoB,CAC9B,IAAM4B,EAAuBN,EAAgD,OAAvBtB,QAAsD,IAAvBA,OAAgC,EAASA,EAAmB6B,SAAUF,GACrJG,EAAsBR,EAAgD,OAAvBtB,QAAsD,IAAvBA,OAAgC,EAASA,EAAmB+B,QAASJ,GACnJK,EAA0BV,EAAgD,OAAvBtB,QAAsD,IAAvBA,OAAgC,EAASA,EAAmBiC,YAAaN,GAC3JO,EAAyBZ,EAAgD,OAAvBtB,QAAsD,IAAvBA,OAAgC,EAASA,EAAmBmC,WAAYR,GAC/J,MAAM,IAAKD,EAASzD,EAAC,IAAIyD,EAASxD,EAAC,KAAIwD,EAASzD,EAAIwD,EAAKxD,GAAC,KAAK2D,EAAoB,IAAIA,EAAoB,UAAUA,EAAoB,IAAIA,EAAoB,KAAIF,EAASxD,EAAIuD,EAAKvD,EAAI0D,GAAoB,KAAKI,EAAuB,IAAIA,EAAuB,WAAWA,EAAuB,IAAIA,EAAuB,IAAIN,EAASzD,EAAC,KAAKiE,EAAsB,IAAIA,EAAsB,WAAWA,EAAsB,KAAKA,EAAsB,KAAIR,EAASxD,GAC1cgE,EAAyBJ,EACpBA,EACAI,IAAuB,KAAKJ,EAAmB,IAAIA,EAAmB,UAAUA,EAAmB,KAAKA,EAAmB,IAEzI,MAAM,IAAKJ,EAASzD,EAAC,IAAIyD,EAASxD,EAAC,KAAIwD,EAASzD,EAAIwD,EAAKxD,GAAC,KAAIyD,EAASxD,EAAIuD,EAAKvD,GAAC,IAAIwD,EAASzD,EAAC,IAAIyD,EAASxD,EAAC,KAEpGkE,EAAgB,SAAH,GAA6B,IAAvBX,EAAI,EAAJA,KAAMC,EAAQ,EAARA,SAC5BC,EAASU,KAAKC,MAAMD,KAAKE,IAAId,EAAKxD,EAAGwD,EAAKvD,GAAK,GACrD,MAAO,CAAC,KACAwD,EAASzD,EAAIwD,EAAKxD,EAAI,GAAC,KAAIyD,EAASxD,EAAIuD,EAAKvD,EAAI,GAAC,IAClDyD,EAAM,IAAIA,EAAM,UAAmB,EAATA,EAAU,MAAMA,EAAM,IAAIA,EAAM,UAAmB,EAATA,EAAU,MACpFa,KAAK,KAELC,EAAa1B,mBAAQ,SAACU,GAAI,IAAE5B,EAAU,uDAAG,EAAC,OAAKA,EAC/C,CACE5B,EAAGwD,EAAKxD,EAAI4B,EACZ3B,EAAGuD,EAAKvD,EAAI2B,GAEd4B,KACAiB,EAAiB3B,mBAAQ,SAACW,GAAQ,IAAE7B,EAAU,uDAAG,EAAC,OAAKA,EACvD,CACE5B,EAAGyD,EAASzD,EAAI4B,EAAa,EAC7B3B,EAAGwD,EAASxD,EAAI2B,EAAa,GAE/B6B,KACAiB,EAAsB5B,mBAAQ,SAACpB,GACjC,OAAQA,GACJ,IAAK,SACL,IAAK,kBACD,OAAO,EACX,IAAK,qBACD,OAAO,GACX,QACI,OAAO,OAGbiD,EAAuB7B,mBAAQ,SAACC,GAClC,IAAM6B,EAAYC,0BAAgB9B,GAClC,OAAO6B,EAAUE,OAAS,EAAIF,EAAUG,MAAM,GAAGR,KAAK,IAAMxB,KAE1DiC,GAAkBlC,mBAAQ,SAACmC,EAAcvD,EAAO+B,EAAUD,GAAgE,IAA1D5B,EAAU,uDAAG,EAAGrB,EAAY,uDAAG,EAAGwB,EAAkB,uCAChHmD,EAAU,CACZC,iBAAkBT,EAAoBhD,IAEpC0D,EAAc,CAAEC,QAAQ,GACxBC,EAAwB,WAAH,OAASC,sBAAYN,EAAc1B,EAAe,CACzEC,KAAMgB,EAAWhB,EAAM5B,GACvB6B,SAAUgB,EAAehB,EAAU7B,GACnCrB,eACAwB,uBACAmD,IACEM,EAAwB,WAAH,OAASC,mBAASR,EAAcxB,EAASzD,EAAIwD,EAAKxD,EAAI,EAAGyD,EAASxD,EAAIuD,EAAKvD,EAAI,EAAGmE,KAAKE,IAAId,EAAKxD,EAAGwD,EAAKvD,GAAK,EAAI2B,EAAYsD,IACxJ,OAAQxD,GACJ,IAAK,SACD,OAAO8D,IACX,IAAK,YACD,OAAOF,IACX,IAAK,kBACD,IAAMvC,EAAO4B,EAAqBM,GAClC,OAAOS,mBAAST,EAAc,CAC1BlC,EACAoB,EAAc,CAAEX,KAAMgB,EAAWhB,EAAM5B,GAAa6B,cACrD2B,GAEP,IAAK,qBACD,IAAMrC,EAAO4B,EAAqBM,GAClC,OAAOS,mBAAST,EAAc,CAC1BlC,EACAQ,EAAe,CACXC,KAAMgB,EAAWhB,EAAM5B,GACvB6B,SAAUgB,EAAehB,EAAU7B,GACnCrB,eACAwB,wBAELqD,GAEP,QACI,OAAOE,Q,oCC1GJK,aAAWC,OAAO,CAC7BC,UAAW,CACPpC,SAAU,WACVqC,KAAM,EACNC,IAAK,EACLC,MAAO,EACPC,OAAQ,EACRC,OAVe,KAYnBC,QAAS,CACL1C,SAAU,WACV2C,kBAAmB,GACnBC,SAAU,SACVnG,MAAO,OACPK,aAAc,GACd+F,WAAY,GACZC,WAAY,SACZC,eAAgB,SAChBC,cAAe,GACfP,OAAQQ,IAEZC,0BAA2B,CACvBC,gBAAiB,cACjBV,OAAQQ,IAEZG,YAAa,CACTC,UAAW,UAEfC,iBAAkB,CACdC,KAAM,EACNT,WAAY,SACZC,eAAgB,eAChBtG,MAAO,OAEX+G,OAAQ,CACJC,QAAS,IAEbC,WAAY,CACRC,MAAO,WAEXC,UAAW,CACPC,UAAW,GACXC,cAAe,MACff,eAAgB,YAEpBgB,iBAAkB,CACd/D,SAAU,WACVqC,KAAM,EACNC,IAAK,EACLE,OAAQ,EACRD,MAAO,K,sCCrDFyB,GAAkBC,Q,gbCI/B,IAAMC,GAA4B,QAAhBC,WAASC,GACdC,GAAO,iCAChB,WAAYjJ,GAAQ,IAAD,EAyF4D,OAzF5D,aACf,cAAMA,IACDkJ,KAAOlH,IAAMmH,YAClB,EAAKC,iBAAmB,KACxB,EAAKC,QAAU,WACX,MAAoC,EAAKC,MAAjClD,EAAY,EAAZA,aAAcmD,EAAS,EAATA,UACtB,EAAkE,EAAKvJ,MAA/D2E,EAAI,EAAJA,KAAMC,EAAQ,EAARA,SAAU4E,EAAW,EAAXA,YAAazG,EAAU,EAAVA,WAAYrB,EAAY,EAAZA,aACjD,OHmGoB,SAAH,GAAmH,IAA7G0E,EAAY,EAAZA,aAAcmD,EAAS,EAATA,UAAU,EAAD,EAAEE,GAAM7E,EAAQ,EAARA,SAAUD,EAAI,EAAJA,KAAM9B,EAAK,EAALA,MAAOE,EAAU,EAAVA,WAAYrB,EAAY,EAAZA,aAAcwB,EAAkB,EAAlBA,mBACzGwG,EAAevD,GAAgBnC,EAAUoC,GAAevD,EAAO+B,EAAUD,EAAM5B,EAAYrB,EAAcwB,GAC/G,MAAM,GAAImB,EAAc+B,GAAgBsD,EAAaC,IAAMJ,EAAUK,OAAQ,EAAG,IGrGjEC,CAAiB,CACpBN,UAAWA,EACXnD,eACAqD,GAAI,CACA7E,WACAD,OACA9B,MAAuB,OAAhB2G,QAAwC,IAAhBA,OAAyB,EAASA,EAAY3G,MAC7EE,YAA6B,OAAhByG,QAAwC,IAAhBA,OAAyB,EAASA,EAAYzG,aAAeA,EAClGrB,cAA+B,OAAhB8H,QAAwC,IAAhBA,OAAyB,EAASA,EAAY9H,eAAiBA,EACtGwB,mBAAoC,OAAhBsG,QAAwC,IAAhBA,OAAyB,EAASA,EAAYtG,uBAItG,EAAK4G,kBAAoB,WACrB,IAAMC,EAAI,EAAKV,UACf,EAAKW,MAAQxI,uBAAsB,WAC3B,EAAK0H,MAAQ,EAAKA,KAAKe,UACnBnB,GACA,EAAKI,KAAKe,QAAQ1J,eAAe,CAAEwJ,MAGnC,EAAKb,KAAKe,QAAQC,eAAeC,aAAa,IAAKJ,QAKnE,EAAKK,QAAU,WACX,IAAMC,EAAa,CACfC,WAASC,OAAO,EAAKjB,MAAMC,UAAW,CAClCiB,QAAS,EACTC,SAAU,EAAKzK,MAAM0K,kBACrBC,OAAQ,EAAK3K,MAAM2K,OACnBC,iBAAiB,KAGS,IAA9B,EAAKtB,MAAMuB,QAAQjB,QACnBS,EAAWS,KAAKR,WAASC,OAAO,EAAKjB,MAAMuB,QAAS,CAChDL,QAAS,EACTC,SAAU,EAAKzK,MAAM0K,kBACrBC,OAAQ,EAAK3K,MAAM2K,OACnBC,iBAAiB,KAGzBN,WAASS,SAASV,EAAY,CAAEW,cAAc,IAASC,OAAM,SAACC,GACtDA,EAAOC,UACP,EAAKC,SAAS,CAAEhF,aAAc,EAAKiD,YAAa,WACR,IAAhC,EAAKC,MAAMC,UAAUK,QACrB,EAAKN,MAAMC,UAAU8B,SAAS,UAMlD,EAAKC,aAAe,YAAuD,IAAD,IAAnDC,YAAeC,OAAUnK,EAAK,EAALA,MAAOC,EAAM,EAANA,OACnD,EAAK8J,SAAS,CACVK,WAAY,CACRtK,EAAGE,EACHD,EAAGE,MAIf,EAAK8H,iBAAmBL,WAAS2C,OAAO,CACpCC,QAASC,WAAWC,IAAI,UACxBC,IAAKF,WAAWC,IAAI,UACpBE,QAASH,WAAWC,IAAI,YAE5B,EAAKG,UAAS,QAAW,EAAK5C,iBAAiB/H,MAAK,IAAI,EAAK+H,iBAAiB9H,OAAM,SAAS,EAAK8H,iBAAiB/H,MAAQ,EAAC,IAAI,EAAK+H,iBAAiB9H,OAAS,EAAC,kBAChK,EAAK2K,YAAc,KAAQ,EAAK7C,iBAAiB9H,OACjD,EAAK4K,aAAY,QAAW,EAAKD,YAAW,IAAI,EAAK7C,iBAAiB9H,OAAM,SAAS,EAAK2K,YAAc,EAAC,IAAI,EAAK7C,iBAAiB9H,OAAS,EAAC,kBAC7I,EAAKgI,MAAQ,CACTmC,WAAY,CACRtK,EAAG2H,GACG,EAAKM,iBAAiB/H,MACtB,KAAQ,EAAK+H,iBAAiB9H,OACpCF,EAAG,EAAKgI,iBAAiB9H,QAE7BqD,KAAM3E,EAAM2E,KACZC,SAAU5E,EAAM4E,SAChBiG,QAAS,IAAIP,WAAS6B,MAAM,GAC5B5C,UAAW,IAAIe,WAAS6B,MAAM,GAC9B/F,aAAc0C,GAAY,EAAKkD,UAAY,EAAKE,cAEpD,EAAKE,WAAa,EAAK9C,MAAMC,UAAU8C,YAAY,EAAKvC,mBAAmB,EAyB9E,OAxBA,uCACD,SAAmB3J,GACXA,EAAUyE,WAAa7E,KAAKC,MAAM4E,UAClCzE,EAAUwE,OAAS5E,KAAKC,MAAM2E,MAC9B5E,KAAKqK,YAEZ,kCACD,WACQrK,KAAKqM,YACLrM,KAAKuJ,MAAMC,UAAU+C,eAAevM,KAAKqM,YAEzCrM,KAAKiK,OACLuC,qBAAqBxM,KAAKiK,SAEjC,oBACD,WACI,IAAKjK,KAAKuJ,MAAMmC,WACZ,OAAO,KAEX,MAAiC1L,KAAKC,MAA9BwM,EAAc,EAAdA,eAAgBC,EAAI,EAAJA,KAClBlK,EAAUiK,EAAiBE,WAA2BjK,UAC5D,OAAQT,IAAM2K,cAAcpK,EAAS,CAAEC,MAAOzC,KAAKC,MAAMwC,MAAOT,SAAUhC,KAAKuL,aAAcsB,cAAe,OAAQC,QAASL,EAAiBC,OAAOK,GACjJ9K,IAAM2K,cAAcI,KAAK,CAAEH,cAAe,OAAQvL,MAAOtB,KAAKuJ,MAAMmC,WAAWtK,EAAGG,OAAQvB,KAAKuJ,MAAMmC,WAAWrK,GAC5GY,IAAM2K,cAAc/D,GAAiB,CAAE9G,IAAK/B,KAAKmJ,KAAM8D,KAAMjN,KAAKC,MAAMiN,cAAeC,YAAa,EAAGC,SAAU,UAAWpD,EAAGjB,GAAY/I,KAAKiM,UAAYjM,KAAKmM,aAAcrB,QAAS9K,KAAKuJ,MAAMuB,QAASgC,QAAS,qBAChO,EAnHe,CAASO,aAqH7BnE,GAAQ/G,aAAe,CACnByI,OAAQ0C,WAAOC,OACf3I,KAAM,CAAExD,EAAG,EAAGC,EAAG,GACjBwD,SAAU,CAAEzD,EAAG,EAAGC,EAAG,GACrB2B,WAAY,G,gTC5HT,IAAMwK,GAAS,SAAH,OAAMC,EAAY,EAAZA,aAAchL,EAAK,EAALA,MAAOP,EAAQ,EAARA,SAAawL,EAAI,kBAAQzL,gBAAoBS,UAAM,CAAED,MAAO,CAACkL,GAAOtF,OAAQoF,IACtHxL,gBAAoB2L,W,mWAAK,EAAGnL,MAAO,CAACkL,GAAOpF,WAAY9F,GAAQoL,OAAQ,uBAA0BH,GAAQxL,KCAhG4L,GAAU,SAAH,OAAMC,EAAW,EAAXA,YAAaC,EAAU,EAAVA,WAAYC,EAAU,EAAVA,WAAYC,EAAU,EAAVA,WAAYC,EAAU,EAAVA,WAAY1E,EAAW,EAAXA,YAAa2E,EAAM,EAANA,OAAM,OAASnM,gBAAoBS,UAAM,CAAED,MAAO,CAC9Id,aAAc,GACd+F,WAAY,GACZC,WAAY,SACZC,eAAgB,SAChBC,cAAe,GACfvG,MAAO,MACP0G,gBAAiB,cAErB/F,gBAAoBS,UAAM,CAAED,MAAOkL,GAAOxF,kBACtClG,gBAAoB2L,WAAM,CAAEC,OAAQ,kBAAmBpL,MAAOkL,GAAO1F,aAAewB,GAAeA,EAAY1G,OACnHd,gBAAoBS,UAAM,CAAED,MAAO,CAACkL,GAAOlF,YACtCuF,EACkH,KADpG/L,gBAAoBoM,WAAkB,CAAEvB,QAASqB,GAC5DlM,gBAAoBuL,GAAQ,MAAkB,OAAXY,QAA8B,IAAXA,OAAoB,EAASA,EAAOE,OAAS,SACtGP,EAC0H,KAD3G9L,gBAAoBoM,WAAkB,CAAEvB,QAASoB,GAC7DjM,gBAAoBuL,GAAQ,MAAkB,OAAXY,QAA8B,IAAXA,OAAoB,EAASA,EAAOG,WAAa,aAC1GP,EACmH/L,gBAAoBoM,WAAkB,CAAEvB,QAASqB,GACjKlM,gBAAoBuL,GAAQ,MAAkB,OAAXY,QAA8B,IAAXA,OAAoB,EAASA,EAAOI,SAAW,WAF1FvM,gBAAoBoM,WAAkB,CAAEvB,QAASmB,GAC5DhM,gBAAoBuL,GAAQ,MAAkB,OAAXY,QAA8B,IAAXA,OAAoB,EAASA,EAAOK,OAAS,Y,gbChBxG,IAAMC,GAAK,iCACd,WAAYzO,GAAQ,IAAD,EA6Bwa,OA7Bxa,aACf,cAAMA,IACDwL,OAAS,CACVrK,EAAG,EACHC,EAAG,EACHC,MAAO,EACPC,OAAQ,GAEZ,EAAKgI,MAAQ,CACThC,QAAS,GACToH,kBAAkB,EAClBC,kBAAmB,IAAIrE,WAAS6B,MAAM,KACtCtB,QAAS,IAAIP,WAAS6B,MAAM,GAC5BX,YAAQsB,EACRnI,UAAMmI,EACNlI,cAAUkI,GAEd,EAAK8B,mBAAqB,YAAkC,IAAhBpD,EAAM,EAArBD,YAAeC,OACxC,EAAKA,OAASA,GAElB,EAAKwC,WAAa,WACd,EAAKhO,MAAMwO,QAEf,EAAKP,WAAa,WACd,EAAKjO,MAAM6O,QAEf,EAAKX,WAAa,WACd,EAAKlO,MAAMyM,QAEf,EAAKqC,WAAa,kBAAO9M,gBAAoBiH,GAAS,CAAEzG,MAAOkL,GAAO/E,iBAAkBhE,KAAM,EAAK2E,MAAM3E,KAAMC,SAAU,EAAK0E,MAAM1E,SAAU+F,OAAQ,EAAK3K,MAAM2K,OAAQD,kBAAmB,EAAK1K,MAAM0K,kBAAmBuC,cAAe,EAAKjN,MAAMiN,cAAezD,YAAa,EAAKxJ,MAAMwJ,YAAazG,WAAY,EAAK/C,MAAM+C,WAAYrB,aAAc,EAAK1B,MAAM0B,aAAc8K,eAAgB,EAAKxM,MAAMwM,eAAgBC,KAAM,EAAKzM,MAAMyM,QAAS,EA8J1b,OA7JA,uCACD,SAAmBtM,IACW,IAAtBA,EAAU4O,UAA2C,IAAvBhP,KAAKC,MAAM+O,SACzChP,KAAKiP,UAEZ,qBACD,WAAW,IAAD,OACN,MAAwB,qBAAbhO,UAA4BA,SAC5B,IAAIC,SAAQ,SAACC,GAAO,OAAKA,EAAQ,CACpCC,EAAG,EACHC,EAAG,EACHC,MAAO,EACPC,OAAQ,OAGT,IAAIL,SAAQ,SAACC,IACE,SAAZ+N,IACE,EAAKzD,QAAgC,IAAtB,EAAKA,OAAOnK,MAC3BH,EAAQ,EAAKsK,QAGbhK,sBAAsByN,GAG9BA,QAEP,0BACD,kEAAArL,EAAAsL,OAAA,gDAKC,OALkB7O,EAAG,+BAAG,CACrB6G,IAAK,EACLD,KAAM,EACN5F,MAAO,EACPC,OAAQ,GACX,mBAEwBvB,KAAK0B,WAAS,OAA7B+J,EAAM,OACPzL,KAAKC,MAAMmP,yBAA2C,YAAhBpG,WAASC,KAChD3I,EAAI6G,KAAOkI,WAAUC,eAAiB,IAEpCC,EAAS,CACXnO,EAAGd,EAAI4G,KAAO5G,EAAIgB,MAAQ,EAC1BD,EAAGf,EAAI6G,IAAM7G,EAAIiB,OAAS,GAExBiO,EAAiBD,EAAOnO,EACxBqO,EAAgBF,EAAOlO,EACvBqO,EAAmBlK,KAAKmK,IAAIJ,EAAOlO,EAAIoK,EAAOlK,QAC9CqO,EAAkBpK,KAAKmK,IAAIJ,EAAOnO,EAAIqK,EAAOnK,OAE7CuO,EAAqBL,EAAiBI,EAAkB,OAAS,QACjErI,EAAU,CACZJ,IAAK,EACLI,QAAS,EACTF,OAAQ,EACRD,MAAO,EACP0I,SAAU,EACV5I,KAAM,GAEe,YAVnB6I,EAAmBL,EAAmBD,EAAgB,SAAW,OAWnElI,EAAQJ,IAAM7G,EAAI6G,IAAM7G,EAAIiB,OL3FlB,GK8FVgG,EAAQF,OAASoE,EAAOlK,QAAUjB,EAAI6G,IL9F5B,IKgGa,SAAvB0I,GACAtI,EAAQH,MAAQ5B,KAAKE,IAAI+F,EAAOnK,OAAShB,EAAI4G,KAAO5G,EAAIgB,OAAQ,GAChEiG,EAAQH,MACc,IAAlBG,EAAQH,MAAcG,EAAQH,MLnGxB,GKmGyCG,EAAQH,MAC3DG,EAAQuI,SAAWrE,EAAOnK,MAAQiG,EAAQH,MLpGhC,KKuGVG,EAAQL,KAAO1B,KAAKE,IAAIpF,EAAI4G,KAAM,GAClCK,EAAQL,KAAwB,IAAjBK,EAAQL,KAAaK,EAAQL,KLxGlC,GKwGkDK,EAAQL,KACpEK,EAAQuI,SAAWrE,EAAOnK,MAAQiG,EAAQL,KLzGhC,IK2GRwD,EAAW1K,KAAKC,MAAM0K,kBAAoB,IAC1CF,EAA+B,WAArBsF,EACVxI,EAAQJ,IACR7G,EAAI6G,IL9GI,GKgHN,KACCnH,KAAKC,MAAMwJ,YAAYvG,qBAAuB,GACjD8M,EAAgBzF,WAASC,OAAOxK,KAAKuJ,MAAMqF,kBAAmB,CAChEnE,UACAC,WACAE,OAAQ5K,KAAKC,MAAM2K,OACnBqF,MAAOvF,EACPG,iBAAiB,IAEfqF,EAAc3F,WAASC,OAAOxK,KAAKuJ,MAAMuB,QAAS,CACpDL,QAAS,EACTC,WACAE,OAAQ5K,KAAKC,MAAM2K,OACnBqF,MAAOvF,EACPG,iBAAiB,IAErB7K,KAAKuJ,MAAMuB,QAAQQ,SAAS,GACxBb,IAAYzK,KAAKuJ,MAAMqF,kBAAkB/E,SACL,QAAjCsG,EAAKnQ,KAAKC,MAAMwJ,mBAAgC,IAAP0G,OAAgB,EAASA,EAAGlN,qBAIxEiN,EAAYhF,QAHZX,WAASS,SAAS,CAACgF,EAAeE,IAAchF,QAKpDlL,KAAKqL,SAAS,CACV9D,UACAkE,SACA7G,KAAM,CACFxD,EAAGd,EAAIgB,MACPD,EAAGf,EAAIiB,QAEXsD,SAAU,CACNzD,EAAGoE,KAAK4K,MAAM5K,KAAKE,IAAIpF,EAAI4G,KAAM,IACjC7F,EAAGmE,KAAK4K,MAAM5K,KAAKE,IAAIpF,EAAI6G,IAAK,OAErC,+DACN,yBACD,WAAuB,IAAD,OAAV7G,EAAG,uDAAG,GACd,OAAO,IAAIY,SAAQ,SAACC,GAChB,EAAKkK,SAAS,CAAEsD,kBAAkB,IAAQ,kBAAM,EAAK0B,aAAa/P,GAAKgQ,KAAKnP,WAEnF,mBACD,WACInB,KAAKqL,SAAS,CACVsD,kBAAkB,EAClBlD,YAAQsB,MAEf,2BACD,WACI,MAAwD/M,KAAKC,MAAnCsQ,EAAgB,EAAlCC,iBACR,IADmD,EAAPxB,QAExC,OAAO,KAEX,IAAQlE,EAAY9K,KAAKuJ,MAAjBuB,QACR,OAAQ7I,gBAAoBsI,WAAS7H,KAAM,CAAEmK,cAAe,WAAY4D,IAAK,UAAWhO,MAAO,CACvFkL,GAAOpG,QACPvH,KAAKC,MAAMyQ,aACX,CACIpJ,OAAQ,GACRwD,UACA6F,UAAW,CAAC,CAAEC,WAAY5Q,KAAKuJ,MAAMqF,uBAG7C3M,gBAAoBsO,EAAkB,CAAExC,YAAa/N,KAAKC,MAAM8N,YAAaC,WAAYhO,KAAKC,MAAM+N,WAAYvE,YAAazJ,KAAKC,MAAMwJ,YAAawE,WAAYjO,KAAKiO,WAAYC,WAAYlO,KAAKkO,WAAYC,WAAYnO,KAAKmO,WAAYC,OAAQpO,KAAKC,MAAMmO,YACtQ,6CACD,WACI,OAAOpO,KAAKC,MAAM4Q,0BAA6B5O,gBAAoBS,UAAM,CAAED,MAAO,CAACsE,UAAW+J,aAAcnD,GAAO5F,6BAAiC,OACvJ,oBACD,WACI,IAAM4G,EAAmB3O,KAAKuJ,MAAMoF,kBAAoB3O,KAAKC,MAAM+O,QAC7D+B,EAAiB/Q,KAAKuJ,MAAMkC,QAAUkD,EAC5C,OAAKA,EAGG1M,gBAAoBS,UAAM,CAAED,MAAO,CAACsE,UAAW+J,aAAc,CAAE9I,gBAAiB,gBAAkB6E,cAAe,YACrH5K,gBAAoBS,UAAM,CAAED,MAAOkL,GAAO1G,UAAWjF,SAAUhC,KAAK6O,mBAAoBhC,cAAe,YAAckE,GAAmB9O,gBAAoBA,WAAgB,KACxKjC,KAAK+O,aACL/O,KAAKgR,kCACLhR,KAAKiR,mBANF,SAOd,EA5La,CAAShP,a,qkBA8L3ByM,GAAMvM,aAAe,CACjByI,OAAQ0C,WAAO4D,QAAQ,IACvBvG,kBAAmB,IACnB6F,iBAAkB1C,GAClB4C,aAAc,GACdtB,yBAAyB,EACzBlC,cAAe,qBACfkB,OAAQ,GACR+C,cAAc,EACdN,2BAA2B,GCpM/B,IAAQO,GAAyCnP,UAAhCoP,GAAgCpP,YAArBqP,GAAqBrP,WAAXsP,GAAWtP,SAEpCuP,GAAoB,SAAH,GAAmQ,IAA7PtP,EAAQ,EAARA,SAAUuL,EAAY,EAAZA,aAAcW,EAAM,EAANA,OAAQoC,EAAgB,EAAhBA,iBAAkBE,EAAY,EAAZA,aAActB,EAAuB,EAAvBA,wBAAyBlC,EAAa,EAAbA,cAAevC,EAAiB,EAAjBA,kBAAmB3H,EAAU,EAAVA,WAAYrB,EAAY,EAAZA,aAAc8P,EAAc,EAAdA,eAAe,EAAD,EAAEC,oBAAY,OAAQ,MAAEjF,sBAAc,OAAQ,MAAEoE,iCAAyB,OAAQ,EACpR,EAA8BS,GAAS,YAAW,WAA3C3Q,EAAO,KAAEgR,EAAU,KAC1B,EAAiCL,GAAS,CACtChP,UAAU,IACZ,WAFK0M,EAAO,KAAE4C,EAAa,KAGvBC,EAAa,SAACpB,EAAKqB,GAAK,OAAKF,GAAc,SAAC5C,GAC9C,IAAM+C,EAAU,MAAQ/C,GAExB,OADA+C,EAAWtB,GAAOqB,EACXC,MAEX,EAAyCT,GAAS,CAC9ChP,cAAUyK,IACZ,WAFKtD,EAAW,KAAEuI,EAAiB,KAGrC,EAA0BV,GAAS,CAAEhP,SAAU,KAAK,WAA7CgB,EAAK,KAAE2O,EAAQ,KACtB,EAAgCX,GAAS,CAAEhP,UAAU,IAAQ,WAAtDD,EAAQ,KAAE6P,EAAW,KACtBC,EAAaZ,GAAO,GACTa,ECzBO,WACxB,IAAMC,EAAYpQ,UAAa,GAO/B,OANAA,aAAgB,WAEZ,OADAoQ,EAAUnI,SAAU,EACb,WACHmI,EAAUnI,SAAU,KAEzB,IACImI,EDiBsBC,GAArBpI,QACSqI,EAAiBhB,GAAO,CACrCjP,SAAU,IAAIkQ,YADVtI,QAGFuI,EAAQlB,KACdF,IAAU,WACN,IAAIlB,EACAiC,IAAgC,IAArBpD,EAAQrO,KACc,QAAhCwP,EAAKoC,EAAa5R,UAA6B,IAAPwP,GAAyBA,EAAGuC,KAAK,WAE/E,CAAC1D,IACJqC,IAAU,YACFrC,EAAQrO,IAAY8I,EAAY9I,KAChCgS,EAAkBhS,KAEvB,CAACqO,EAASvF,IACb4H,IAAU,WACFe,GACI9O,EAAM3C,KACDiS,MAAMC,QAAQvP,EAAM3C,KAAa2C,EAAM3C,GAASuF,OAAS,GAC1D1C,OAAOsP,QAAQxP,EAAM3C,IAAUuF,OAAS,GACxCgM,GAAY,SAAC5R,GACT,IAAMyS,EAAM,MAAQzS,GAEpB,OADAyS,EAAOpS,IAAW,EACXoS,KAEiB,kBAAjBrB,EACPxG,GAAMwG,GAEDA,GACLxG,GAAM,aAIVgH,GAAY,SAAC5R,GACT,IAAMyS,EAAM,MAAQzS,GAEpB,OADAyS,EAAOpS,IAAW,EACXoS,QAKxB,CAACX,EAAS9O,IACb,IAAMqP,EAAoB,SAAOlC,GAAG,sGAEgB,QAA3BN,EAAK1G,EAAYgH,UAAyB,IAAPN,OAAgB,EAASA,EAAGvP,OAAOc,WAAW,KAAF,EAA1F,GAAJkD,EAAI,SACNoO,MAAMpO,EAAKtD,QACX0R,MAAMpO,EAAKrD,SACXyR,MAAMpO,EAAKxD,IACX4R,MAAMpO,EAAKvD,IAAE,2EAGe,QAAxB4R,EAAKR,EAAMvI,eAA4B,IAAP+I,OAAgB,EAASA,EAAGC,YAAY,CAC5E5R,MAAOsD,EAAKtD,MN5EI,EM6EhBC,OAAQqD,EAAKrD,ON7EG,EM8EhB2F,KAAM1B,KAAKC,MAAMb,EAAKxD,GAAK+R,EAC3BhM,IAAK3B,KAAKC,MAAMb,EAAKvD,GAAK8R,GAAoB1B,GAAkB,MAChE,KAAF,wDAEA2B,GAAiB,SAAC3C,EAAKlN,GAAI,OAAK,IAAIrC,SAAQ,SAACC,GAC/C6Q,GAAkB,SAACvI,GACf,IAAI0G,EACEkD,EAAO,MAAQ5J,GAGrB,OAFA4J,EAAQ5C,GAAOlN,EACc,QAA5B4M,EAAKoC,EAAa9B,UAAyB,IAAPN,GAAyBA,EAAGuC,KAAK,aAAcnP,GAC7E8P,KAEXlS,QAIEmS,GAAe,SAAC7C,GAAG,OP9FD,SAACnN,GAAK,OAAKA,GACnCE,OAAOC,OAAOH,GAAOM,QAAO,SAACC,EAAGC,GAAC,OAAOD,GAAKA,EAAET,MAAQU,EAAEV,MAAQU,EAAID,IAAI,MO6F3C0P,CAAmBjQ,EAAMmN,KACjD+C,GAAc,SAAC/C,GAAG,OP7FD,SAACnN,GAAK,OAAKA,GAClCE,OAAOC,OAAOH,GAAOM,QAAO,SAACC,EAAGC,GAAC,OAAOD,GAAKA,EAAET,MAAQU,EAAEV,MAAQU,EAAID,IAAI,MO4F5C0P,CAAkBjQ,EAAMmN,KAC/C1C,GAAcqD,IAAQ,WACxB,IAAM9Q,EAAM,GAIZ,OAHAkD,OAAOiQ,KAAKhK,GAAaiK,SAAQ,SAACjD,GAC9BnQ,EAAImQ,GAAOhH,EAAYgH,KAAS6C,GAAa7C,MAE1CnQ,IACR,CAACmJ,IACEuE,GAAaoD,IAAQ,WACvB,IAAM9Q,EAAM,GAIZ,OAHAkD,OAAOiQ,KAAKhK,GAAaiK,SAAQ,SAACjD,GAC9BnQ,EAAImQ,GAAOhH,EAAYgH,KAAS+C,GAAY/C,MAEzCnQ,IACR,CAACmJ,IACEkK,GAAQ,SAAClD,GAAG,OAAK2C,GAAe3C,EAlBlB,SAACA,GAAG,IAAElN,EAAI,uDAAGkG,EAAYgH,GAAI,OAAK8C,EAAkBjQ,EAAMmN,GAAMlN,GAkBzCQ,CAAY0M,KACjDmD,GAAQ,SAACnD,GAAG,OAAK2C,GAAe3C,EAlBlB,SAACA,GAAG,IAAElN,EAAI,uDAAGkG,EAAYgH,GAAI,OAAK8C,EAAkBjQ,EAAMmN,GAAMlN,GAkBzCF,CAAYoN,KA+BjDvF,GAAQ,SAARA,EAAeuF,EAAKoD,GAAQ,0EAIN,GAFlBpK,EAAcoK,EACdvQ,EAAMmN,GAAKoD,GACXP,GAAa7C,KACf0B,EAAWjI,QA7IC,KA6IwB,gBACb,OAAvBiI,EAAWjI,QAAU,EAAE,6BAGtBT,EAAY,CAAD,eACZ0I,EAAWjI,SAAW,EACtBzI,uBAAsB,kBAAMyJ,EAAMuF,EAAKoD,MAAW,uBAG6B,OAAlD,QAA5B1D,EAAKoC,EAAa9B,UAAyB,IAAPN,GAAyBA,EAAGuC,KAAK,SAAS,oBACzEU,GAAe3C,EAAKhH,IAAY,QACtCoI,EAAWpB,GAAK,GAChB0B,EAAWjI,QAAU,EAAE,8DAKzBwC,GAAO,WAAH,OAnDNmF,EADWpB,EAoDU9P,GAnDL,QAChByS,GAAe3C,OAAK1D,GAFV,IAAC0D,GAqDf,OAAQxO,gBAAoBS,UAAM,CAAED,MAAO,CAACkL,GAAO1G,UAAWwG,IAC1DxL,gBAAoBG,EAAiB0R,SAAU,CAAEhC,MAAO,CAChDS,eACA7R,aApDS,SAAC+P,EAAKlN,GACvB0O,GAAS,SAAC8B,GACN,IAAMC,EAAQ,MAAQD,GAKtB,OAJAC,EAASvD,GAAI,SACNsD,EAActD,IAAI,UACpBlN,EAAKvC,KAAOuC,IAEVyQ,KAENzB,EAAa9B,KACd8B,EAAa9B,GAAO,IAAI+B,YA2CpBzR,eAxCW,SAAC0P,EAAKwD,GACpB7B,GAGLH,GAAS,SAAC8B,GACN,IAAMC,EAAQ,MAAQD,GAItB,OAHAC,EAASvD,GAAOjN,OAAOsP,QAAQiB,EAActD,IACxC/M,QAAO,YAAK,OAAL,SAAK,KAAcuQ,KAC1BrQ,QAAO,SAACtD,EAAI,GAAD,eAAGmQ,EAAG,KAAEyD,EAAG,YAAM,IAAc5T,EAAI,OAAImQ,EAAMyD,MAAQ,IAC9DF,MAgCHG,eA7BW,SAAC1D,GAAG,OAAKhH,EAAYgH,IA8BhCvF,SACAwB,QACArK,WACAsP,eAEJzP,EACAD,gBAAoByM,GAAM,IAAG3M,IAAK0Q,GAAU,CACpChE,KAhBH,WAAH,OAASkF,GAAMhT,IAiBTmO,KAhBH,WAAH,OAAS8E,GAAMjT,IAiBT+L,QACAsC,QAASA,EAAQrO,GACjBoN,YAAaA,GAAYpN,GACzBqN,WAAYA,GAAWrN,GACvB8I,YAAaA,EAAY9I,GACzByN,SACAoC,mBACAE,eACAtB,0BACAlC,gBACAvC,oBACA3H,aACArB,eACA8K,iBACAoE,kCAGdlD,GAAS5G,UAAWC,OAAO,CAC7BC,UAAW,CACPmB,KAAM,K,qkBEvMP,IAAMgM,GAA0B,SAAH,GAA0L,IAApLxR,EAAW,EAAXA,YAAaC,EAAI,EAAJA,KAAK,EAAD,EAAElC,eAAO,MAAG,WAAU,EAAEW,EAAK,EAALA,MAAOC,EAAM,EAANA,OAAQ4F,EAAG,EAAHA,IAAKD,EAAI,EAAJA,KAAME,EAAK,EAALA,MAAOC,EAAM,EAANA,OAAQvE,EAAK,EAALA,MAAOuR,EAAc,EAAdA,eAAgBpR,EAAmB,EAAnBA,oBAAqBC,EAAmB,EAAnBA,oBAAqBC,EAAkB,EAAlBA,mBAAoBJ,EAAI,EAAJA,KAC7M,OAAKH,EAGGX,gBAAoBS,UAAM,CAAEmK,cAAe,OAAQpK,MAAO,CAACsE,UAAWuN,mBAAoBD,IAC9FpS,gBAAoBU,EAAc,OAAGC,aAAa,GAAS,CACnDjC,UACAkC,OACAC,QACAG,sBACAC,sBACAC,qBACAJ,SACH,IAAEN,MAAO,CACNoC,SAAU,WACVtD,SACAD,QACA6F,MACAC,QACAC,SACAH,YAlBD,M,qlBCDR,IAAMqN,GAAyB,SAAC5T,GACnC,MAA4EsB,aAAiBG,GAArF8I,EAAK,EAALA,MAAO7I,EAAQ,EAARA,SAAUqK,EAAI,EAAJA,KAAM6F,EAAY,EAAZA,aAAc4B,EAAc,EAAdA,eAAgBxC,EAAU,EAAVA,WACvDlB,EAAkB,OAAZ9P,QAAgC,IAAZA,EAAqBA,EAAU,WAczD6T,EAAgBjC,EAAeA,EAAa9B,QAAO1D,EACnD0H,EAAYpS,EAAWA,EAASoO,QAAO1D,EAO7C9K,aAAgB,WACR0P,GACAA,EAAWlB,KAEhB,IACH,IAAMiE,EAAqBzS,eAAkB,YAA4B,IAAzBC,EAAQ,EAARA,SAAawL,EAAI,WAC7D,OAAQzL,gBAAoBU,EAAc,SAAM+K,GAAI,IAAE/M,QAAS8P,IAAOvO,KACvE,CAACuO,IACEkE,EAA+B1S,eAAkB,SAAChC,GACpD,OAAOgC,gBAAoBmS,GAAwB,SAAMnU,GAAK,IAAEU,QAAS8P,OAC1E,CAACA,IACJ,MAAO,CACHvF,MAjCW,SAAC2I,GACRlC,GACAA,EAAWlB,GAEXvF,GACAA,EAAMuF,EAAKoD,IA6BfnH,KA1BU,WACNA,GACAA,EAAK+D,IAyBT8B,aAAciC,EACdL,eArBoB,WACpB,GAAIA,EACA,OAAOA,EAAe1D,IAoB1BpO,SAAUoS,EACV9T,QAAS8P,EACT9N,cAAe+R,EACfN,wBAAyBO,M","file":"static/js/app.dc05835a.chunk.js","sourcesContent":["import * as React from 'react';\nexport class ConnectedStep extends React.Component {\n    componentDidMount() {\n        if (this.props.active) {\n            this.register();\n        }\n    }\n    componentDidUpdate(prevProps) {\n        if (this.props.active !== prevProps.active) {\n            if (this.props.active) {\n                this.register();\n            }\n            else {\n                this.unregister();\n            }\n        }\n    }\n    componentWillUnmount() {\n        this.unregister();\n    }\n    setNativeProps(obj) {\n        this.wrapper.setNativeProps(obj);\n    }\n    register() {\n        if (this.props.context && this.props.context.registerStep) {\n            this.props.context.registerStep(this.props.tourKey, {\n                target: this,\n                wrapper: this.wrapper,\n                ...this.props,\n            });\n        }\n        else {\n            console.warn('context undefined');\n        }\n    }\n    unregister() {\n        if (this.props.context && this.props.context.unregisterStep) {\n            this.props.context.unregisterStep(this.props.tourKey, this.props.name);\n        }\n        else {\n            console.warn('unregisterStep undefined');\n        }\n    }\n    measure() {\n        if (typeof __TEST__ !== 'undefined' && __TEST__) {\n            return new Promise((resolve) => resolve({\n                x: 0,\n                y: 0,\n                width: 0,\n                height: 0,\n            }));\n        }\n        return new Promise((resolve, reject) => {\n            const measure = () => {\n                if (this.wrapper && this.wrapper.measure) {\n                    const { borderRadius } = this.props;\n                    this.wrapper.measure((_ox, _oy, width, height, x, y) => resolve({\n                        x: borderRadius ? x + borderRadius : x,\n                        y,\n                        width: borderRadius ? width - borderRadius * 2 : width,\n                        height,\n                    }), reject);\n                }\n                else {\n                    requestAnimationFrame(measure);\n                }\n            };\n            requestAnimationFrame(measure);\n        });\n    }\n    render() {\n        const copilot = {\n            ref: (wrapper) => {\n                this.wrapper = wrapper;\n            },\n            onLayout: () => { },\n        };\n        return React.cloneElement(this.props.children, { copilot });\n    }\n}\nConnectedStep.defaultProps = {\n    active: true,\n};\n","import * as React from 'react';\nexport const TourGuideContext = React.createContext({\n    canStart: { _default: false },\n});\n","import * as React from 'react';\nimport { ConnectedStep } from './ConnectedStep';\nimport { TourGuideContext } from './TourGuideContext';\nexport const Step = (props) => {\n    const context = React.useContext(TourGuideContext);\n    return React.createElement(ConnectedStep, { ...{ ...props, context } });\n};\n","import * as React from 'react';\nimport { View } from 'react-native';\nexport const Wrapper = ({ copilot, children, style }) => (React.createElement(View, { style: style, ...copilot }, children));\n","import * as React from 'react';\nimport { Step } from './Step';\nimport { Wrapper } from './Wrapper';\nexport const TourGuideZone = ({ isTourGuide = true, tourKey = '_default', zone, children, shape, text, maskOffset, borderRadius, style, keepTooltipPosition, tooltipBottomOffset, borderRadiusObject, }) => {\n    if (!isTourGuide) {\n        return React.createElement(React.Fragment, null, children);\n    }\n    return (React.createElement(Step, { text: text !== null && text !== void 0 ? text : `Zone ${zone}`, order: zone, name: `${zone}`, ...{\n            tourKey,\n            shape,\n            maskOffset,\n            borderRadius,\n            keepTooltipPosition,\n            tooltipBottomOffset,\n            borderRadiusObject,\n        } },\n        React.createElement(Wrapper, { ...{ style } }, children)));\n};\n","import { interpolate, separate, splitPathString, toCircle } from 'flubber';\nimport clamp from 'lodash.clamp';\nimport memoize from 'memoize-one';\nexport const getFirstStep = (steps) => steps &&\n    Object.values(steps).reduce((a, b) => (!a || a.order > b.order ? b : a), null);\nexport const getLastStep = (steps) => steps &&\n    Object.values(steps).reduce((a, b) => (!a || a.order < b.order ? b : a), null);\nexport const getStepNumber = (steps, step) => step &&\n    Object.values(steps).filter((_step) => _step.order <= step.order).length;\nexport const getPrevStep = (steps, step) => Object.values(steps)\n    .filter((_step) => _step.order < step.order)\n    .reduce((a, b) => (!a || a.order < b.order ? b : a), null);\nexport const getNextStep = (steps, step) => Object.values(steps)\n    .filter((_step) => _step.order > step.order)\n    .reduce((a, b) => (!a || a.order > b.order ? b : a), null) ||\n    step;\nconst headPath = /^M0,0H\\d*\\.?\\d*V\\d*\\.?\\d*H0V0Z/;\nconst cleanPath = memoize((path) => path.replace(headPath, '').trim());\nconst getCanvasPath = memoize((path) => {\n    const canvasPath = path.match(headPath);\n    if (canvasPath) {\n        return canvasPath[0];\n    }\n    return '';\n});\nconst getBorderRadiusOrDefault = (borderRadius, defaultRadius = 0) => (borderRadius || borderRadius === 0 ? borderRadius : defaultRadius);\nexport const defaultSvgPath = ({ size, position, borderRadius: radius, borderRadiusObject, }) => {\n    if (radius || borderRadiusObject) {\n        const borderRadiusTopRight = getBorderRadiusOrDefault(borderRadiusObject === null || borderRadiusObject === void 0 ? void 0 : borderRadiusObject.topRight, radius);\n        const borderRadiusTopLeft = getBorderRadiusOrDefault(borderRadiusObject === null || borderRadiusObject === void 0 ? void 0 : borderRadiusObject.topLeft, radius);\n        const borderRadiusBottomRight = getBorderRadiusOrDefault(borderRadiusObject === null || borderRadiusObject === void 0 ? void 0 : borderRadiusObject.bottomRight, radius);\n        const borderRadiusBottomLeft = getBorderRadiusOrDefault(borderRadiusObject === null || borderRadiusObject === void 0 ? void 0 : borderRadiusObject.bottomLeft, radius);\n        return `M${position.x},${position.y}H${position.x + size.x} a${borderRadiusTopRight},${borderRadiusTopRight} 0 0 1 ${borderRadiusTopRight},${borderRadiusTopRight}V${position.y + size.y - borderRadiusTopRight} a${borderRadiusBottomRight},${borderRadiusBottomRight} 0 0 1 -${borderRadiusBottomRight},${borderRadiusBottomRight}H${position.x} a${borderRadiusBottomLeft},${borderRadiusBottomLeft} 0 0 1 -${borderRadiusBottomLeft},-${borderRadiusBottomLeft}V${position.y +\n            (borderRadiusBottomLeft > borderRadiusTopLeft\n                ? borderRadiusTopLeft\n                : borderRadiusBottomLeft)} a${borderRadiusTopLeft},${borderRadiusTopLeft} 0 0 1 ${borderRadiusTopLeft},-${borderRadiusTopLeft}Z`;\n    }\n    return `M${position.x},${position.y}H${position.x + size.x}V${position.y + size.y}H${position.x}V${position.y}Z`;\n};\nexport const circleSvgPath = ({ size, position, }) => {\n    const radius = Math.round(Math.max(size.x, size.y) / 2);\n    return [\n        `M${position.x - size.x / 8},${position.y + size.y / 2}`,\n        `a${radius} ${radius} 0 1 0 ${radius * 2} 0 ${radius} ${radius} 0 1 0-${radius * 2} 0`,\n    ].join('');\n};\nconst sizeOffset = memoize((size, maskOffset = 0) => maskOffset\n    ? {\n        x: size.x + maskOffset,\n        y: size.y + maskOffset,\n    }\n    : size);\nconst positionOffset = memoize((position, maskOffset = 0) => maskOffset\n    ? {\n        x: position.x - maskOffset / 2,\n        y: position.y - maskOffset / 2,\n    }\n    : position);\nconst getMaxSegmentLength = memoize((shape) => {\n    switch (shape) {\n        case 'circle':\n        case 'circle_and_keep':\n            return 7;\n        case 'rectangle_and_keep':\n            return 25;\n        default:\n            return 15;\n    }\n});\nconst getSplitPathSliceOne = memoize((path) => {\n    const splitPath = splitPathString(path);\n    return splitPath.length > 1 ? splitPath.slice(1).join('') : path;\n});\nconst getInterpolator = memoize((previousPath, shape, position, size, maskOffset = 0, borderRadius = 0, borderRadiusObject) => {\n    const options = {\n        maxSegmentLength: getMaxSegmentLength(shape),\n    };\n    const optionsKeep = { single: true };\n    const getDefaultInterpolate = () => interpolate(previousPath, defaultSvgPath({\n        size: sizeOffset(size, maskOffset),\n        position: positionOffset(position, maskOffset),\n        borderRadius,\n        borderRadiusObject,\n    }), options);\n    const getCircleInterpolator = () => toCircle(previousPath, position.x + size.x / 2, position.y + size.y / 2, Math.max(size.x, size.y) / 2 + maskOffset, options);\n    switch (shape) {\n        case 'circle':\n            return getCircleInterpolator();\n        case 'rectangle':\n            return getDefaultInterpolate();\n        case 'circle_and_keep': {\n            const path = getSplitPathSliceOne(previousPath);\n            return separate(previousPath, [\n                path,\n                circleSvgPath({ size: sizeOffset(size, maskOffset), position }),\n            ], optionsKeep);\n        }\n        case 'rectangle_and_keep': {\n            const path = getSplitPathSliceOne(previousPath);\n            return separate(previousPath, [\n                path,\n                defaultSvgPath({\n                    size: sizeOffset(size, maskOffset),\n                    position: positionOffset(position, maskOffset),\n                    borderRadius,\n                    borderRadiusObject,\n                }),\n            ], optionsKeep);\n        }\n        default:\n            return getDefaultInterpolate();\n    }\n});\nexport const svgMaskPathMorph = ({ previousPath, animation, to: { position, size, shape, maskOffset, borderRadius, borderRadiusObject }, }) => {\n    const interpolator = getInterpolator(cleanPath(previousPath), shape, position, size, maskOffset, borderRadius, borderRadiusObject);\n    return `${getCanvasPath(previousPath)}${interpolator(clamp(animation._value, 0, 1))}`;\n};\n","import { StyleSheet } from 'react-native';\nexport const Z_INDEX = 100;\nexport const MARGIN = 13;\nexport const OFFSET_WIDTH = 4;\nexport default StyleSheet.create({\n    container: {\n        position: 'absolute',\n        left: 0,\n        top: 0,\n        right: 0,\n        bottom: 0,\n        zIndex: Z_INDEX,\n    },\n    tooltip: {\n        position: 'absolute',\n        paddingHorizontal: 15,\n        overflow: 'hidden',\n        width: '100%',\n        borderRadius: 16,\n        paddingTop: 24,\n        alignItems: 'center',\n        justifyContent: 'center',\n        paddingBottom: 16,\n        zIndex: Z_INDEX - 1,\n    },\n    nonInteractionPlaceholder: {\n        backgroundColor: 'transparent',\n        zIndex: Z_INDEX - 2,\n    },\n    tooltipText: {\n        textAlign: 'center',\n    },\n    tooltipContainer: {\n        flex: 1,\n        alignItems: 'center',\n        justifyContent: 'space-around',\n        width: '80%',\n    },\n    button: {\n        padding: 10,\n    },\n    buttonText: {\n        color: '#27ae60',\n    },\n    bottomBar: {\n        marginTop: 10,\n        flexDirection: 'row',\n        justifyContent: 'flex-end',\n    },\n    overlayContainer: {\n        position: 'absolute',\n        left: 0,\n        top: 0,\n        bottom: 0,\n        right: 0,\n    },\n});\n","import { Path } from 'react-native-svg';\nexport const AnimatedSvgPath = Path;\n","import React, { Component } from 'react';\nimport { Animated, Dimensions, Easing, Platform, View, TouchableWithoutFeedback, } from 'react-native';\nimport Svg from 'react-native-svg';\nimport { svgMaskPathMorph } from '../utilities';\nimport { AnimatedSvgPath } from './AnimatedPath';\nconst IS_NATIVE = Platform.OS !== 'web';\nexport class SvgMask extends Component {\n    constructor(props) {\n        super(props);\n        this.mask = React.createRef();\n        this.windowDimensions = null;\n        this.getPath = () => {\n            const { previousPath, animation } = this.state;\n            const { size, position, currentStep, maskOffset, borderRadius } = this.props;\n            return svgMaskPathMorph({\n                animation: animation,\n                previousPath,\n                to: {\n                    position,\n                    size,\n                    shape: currentStep === null || currentStep === void 0 ? void 0 : currentStep.shape,\n                    maskOffset: (currentStep === null || currentStep === void 0 ? void 0 : currentStep.maskOffset) || maskOffset,\n                    borderRadius: (currentStep === null || currentStep === void 0 ? void 0 : currentStep.borderRadius) || borderRadius,\n                    borderRadiusObject: currentStep === null || currentStep === void 0 ? void 0 : currentStep.borderRadiusObject,\n                },\n            });\n        };\n        this.animationListener = () => {\n            const d = this.getPath();\n            this.rafID = requestAnimationFrame(() => {\n                if (this.mask && this.mask.current) {\n                    if (IS_NATIVE) {\n                        this.mask.current.setNativeProps({ d });\n                    }\n                    else {\n                        this.mask.current._touchableNode.setAttribute('d', d);\n                    }\n                }\n            });\n        };\n        this.animate = () => {\n            const animations = [\n                Animated.timing(this.state.animation, {\n                    toValue: 1,\n                    duration: this.props.animationDuration,\n                    easing: this.props.easing,\n                    useNativeDriver: false,\n                }),\n            ];\n            if (this.state.opacity._value !== 1) {\n                animations.push(Animated.timing(this.state.opacity, {\n                    toValue: 1,\n                    duration: this.props.animationDuration,\n                    easing: this.props.easing,\n                    useNativeDriver: true,\n                }));\n            }\n            Animated.parallel(animations, { stopTogether: false }).start((result) => {\n                if (result.finished) {\n                    this.setState({ previousPath: this.getPath() }, () => {\n                        if (this.state.animation._value === 1) {\n                            this.state.animation.setValue(0);\n                        }\n                    });\n                }\n            });\n        };\n        this.handleLayout = ({ nativeEvent: { layout: { width, height }, }, }) => {\n            this.setState({\n                canvasSize: {\n                    x: width,\n                    y: height,\n                },\n            });\n        };\n        this.windowDimensions = Platform.select({\n            android: Dimensions.get('screen'),\n            web: Dimensions.get('screen'),\n            default: Dimensions.get('window'),\n        });\n        this.firstPath = `M0,0H${this.windowDimensions.width}V${this.windowDimensions.height}H0V0ZM${this.windowDimensions.width / 2},${this.windowDimensions.height / 2} h 1 v 1 h -1 Z`;\n        this.maxWidthWeb = 0.494 * this.windowDimensions.height;\n        this.webFirstPath = `M0,0H${this.maxWidthWeb}V${this.windowDimensions.height}H0V0ZM${this.maxWidthWeb / 2},${this.windowDimensions.height / 2} h 1 v 1 h -1 Z`;\n        this.state = {\n            canvasSize: {\n                x: IS_NATIVE\n                    ? this.windowDimensions.width\n                    : 0.494 * this.windowDimensions.height,\n                y: this.windowDimensions.height,\n            },\n            size: props.size,\n            position: props.position,\n            opacity: new Animated.Value(0),\n            animation: new Animated.Value(0),\n            previousPath: IS_NATIVE ? this.firstPath : this.webFirstPath,\n        };\n        this.listenerID = this.state.animation.addListener(this.animationListener);\n    }\n    componentDidUpdate(prevProps) {\n        if (prevProps.position !== this.props.position ||\n            prevProps.size !== this.props.size) {\n            this.animate();\n        }\n    }\n    componentWillUnmount() {\n        if (this.listenerID) {\n            this.state.animation.removeListener(this.listenerID);\n        }\n        if (this.rafID) {\n            cancelAnimationFrame(this.rafID);\n        }\n    }\n    render() {\n        if (!this.state.canvasSize) {\n            return null;\n        }\n        const { dismissOnPress, stop } = this.props;\n        const Wrapper = dismissOnPress ? TouchableWithoutFeedback : View;\n        return (React.createElement(Wrapper, { style: this.props.style, onLayout: this.handleLayout, pointerEvents: 'none', onPress: dismissOnPress ? stop : undefined },\n            React.createElement(Svg, { pointerEvents: 'none', width: this.state.canvasSize.x, height: this.state.canvasSize.y },\n                React.createElement(AnimatedSvgPath, { ref: this.mask, fill: this.props.backdropColor, strokeWidth: 0, fillRule: 'evenodd', d: IS_NATIVE ? this.firstPath : this.webFirstPath, opacity: this.state.opacity, onPress: () => { } }))));\n    }\n}\nSvgMask.defaultProps = {\n    easing: Easing.linear,\n    size: { x: 0, y: 0 },\n    position: { x: 0, y: 0 },\n    maskOffset: 0,\n};\n","import * as React from 'react';\nimport { View, Text } from 'react-native';\nimport styles from './style';\nexport const Button = ({ wrapperStyle, style, children, ...rest }) => (React.createElement(View, { style: [styles.button, wrapperStyle] },\n    React.createElement(Text, { style: [styles.buttonText, style], testID: 'TourGuideButtonText', ...rest }, children)));\n","import * as React from 'react';\nimport { View, Text, TouchableOpacity } from 'react-native';\nimport { Button } from './Button';\nimport styles from './style';\nexport const Tooltip = ({ isFirstStep, isLastStep, handleNext, handlePrev, handleStop, currentStep, labels, }) => (React.createElement(View, { style: {\n        borderRadius: 16,\n        paddingTop: 24,\n        alignItems: 'center',\n        justifyContent: 'center',\n        paddingBottom: 16,\n        width: '80%',\n        backgroundColor: '#ffffffef',\n    } },\n    React.createElement(View, { style: styles.tooltipContainer },\n        React.createElement(Text, { testID: 'stepDescription', style: styles.tooltipText }, currentStep && currentStep.text)),\n    React.createElement(View, { style: [styles.bottomBar] },\n        !isLastStep ? (React.createElement(TouchableOpacity, { onPress: handleStop },\n            React.createElement(Button, null, (labels === null || labels === void 0 ? void 0 : labels.skip) || 'Skip'))) : null,\n        !isFirstStep ? (React.createElement(TouchableOpacity, { onPress: handlePrev },\n            React.createElement(Button, null, (labels === null || labels === void 0 ? void 0 : labels.previous) || 'Previous'))) : null,\n        !isLastStep ? (React.createElement(TouchableOpacity, { onPress: handleNext },\n            React.createElement(Button, null, (labels === null || labels === void 0 ? void 0 : labels.next) || 'Next'))) : (React.createElement(TouchableOpacity, { onPress: handleStop },\n            React.createElement(Button, null, (labels === null || labels === void 0 ? void 0 : labels.finish) || 'Finish'))))));\n","import * as React from 'react';\nimport { Animated, Easing, Platform, StatusBar, StyleSheet, View, } from 'react-native';\nimport styles, { MARGIN } from './style';\nimport { SvgMask } from './SvgMask';\nimport { Tooltip } from './Tooltip';\nexport class Modal extends React.Component {\n    constructor(props) {\n        super(props);\n        this.layout = {\n            x: 0,\n            y: 0,\n            width: 0,\n            height: 0,\n        };\n        this.state = {\n            tooltip: {},\n            containerVisible: false,\n            tooltipTranslateY: new Animated.Value(400),\n            opacity: new Animated.Value(0),\n            layout: undefined,\n            size: undefined,\n            position: undefined,\n        };\n        this.handleLayoutChange = ({ nativeEvent: { layout } }) => {\n            this.layout = layout;\n        };\n        this.handleNext = () => {\n            this.props.next();\n        };\n        this.handlePrev = () => {\n            this.props.prev();\n        };\n        this.handleStop = () => {\n            this.props.stop();\n        };\n        this.renderMask = () => (React.createElement(SvgMask, { style: styles.overlayContainer, size: this.state.size, position: this.state.position, easing: this.props.easing, animationDuration: this.props.animationDuration, backdropColor: this.props.backdropColor, currentStep: this.props.currentStep, maskOffset: this.props.maskOffset, borderRadius: this.props.borderRadius, dismissOnPress: this.props.dismissOnPress, stop: this.props.stop }));\n    }\n    componentDidUpdate(prevProps) {\n        if (prevProps.visible === true && this.props.visible === false) {\n            this.reset();\n        }\n    }\n    measure() {\n        if (typeof __TEST__ !== 'undefined' && __TEST__) {\n            return new Promise((resolve) => resolve({\n                x: 0,\n                y: 0,\n                width: 0,\n                height: 0,\n            }));\n        }\n        return new Promise((resolve) => {\n            const setLayout = () => {\n                if (this.layout && this.layout.width !== 0) {\n                    resolve(this.layout);\n                }\n                else {\n                    requestAnimationFrame(setLayout);\n                }\n            };\n            setLayout();\n        });\n    }\n    async _animateMove(obj = {\n        top: 0,\n        left: 0,\n        width: 0,\n        height: 0,\n    }) {\n        var _a;\n        const layout = await this.measure();\n        if (!this.props.androidStatusBarVisible && Platform.OS === 'android') {\n            obj.top -= StatusBar.currentHeight || 30;\n        }\n        const center = {\n            x: obj.left + obj.width / 2,\n            y: obj.top + obj.height / 2,\n        };\n        const relativeToLeft = center.x;\n        const relativeToTop = center.y;\n        const relativeToBottom = Math.abs(center.y - layout.height);\n        const relativeToRight = Math.abs(center.x - layout.width);\n        const verticalPosition = relativeToBottom > relativeToTop ? 'bottom' : 'top';\n        const horizontalPosition = relativeToLeft > relativeToRight ? 'left' : 'right';\n        const tooltip = {\n            top: 0,\n            tooltip: 0,\n            bottom: 0,\n            right: 0,\n            maxWidth: 0,\n            left: 0,\n        };\n        if (verticalPosition === 'bottom') {\n            tooltip.top = obj.top + obj.height + MARGIN;\n        }\n        else {\n            tooltip.bottom = layout.height - (obj.top - MARGIN);\n        }\n        if (horizontalPosition === 'left') {\n            tooltip.right = Math.max(layout.width - (obj.left + obj.width), 0);\n            tooltip.right =\n                tooltip.right === 0 ? tooltip.right + MARGIN : tooltip.right;\n            tooltip.maxWidth = layout.width - tooltip.right - MARGIN;\n        }\n        else {\n            tooltip.left = Math.max(obj.left, 0);\n            tooltip.left = tooltip.left === 0 ? tooltip.left + MARGIN : tooltip.left;\n            tooltip.maxWidth = layout.width - tooltip.left - MARGIN;\n        }\n        const duration = this.props.animationDuration + 200;\n        const toValue = verticalPosition === 'bottom'\n            ? tooltip.top\n            : obj.top -\n                MARGIN -\n                135 -\n                (this.props.currentStep.tooltipBottomOffset || 0);\n        const translateAnim = Animated.timing(this.state.tooltipTranslateY, {\n            toValue,\n            duration,\n            easing: this.props.easing,\n            delay: duration,\n            useNativeDriver: true,\n        });\n        const opacityAnim = Animated.timing(this.state.opacity, {\n            toValue: 1,\n            duration,\n            easing: this.props.easing,\n            delay: duration,\n            useNativeDriver: true,\n        });\n        this.state.opacity.setValue(0);\n        if (toValue !== this.state.tooltipTranslateY._value &&\n            !((_a = this.props.currentStep) === null || _a === void 0 ? void 0 : _a.keepTooltipPosition)) {\n            Animated.parallel([translateAnim, opacityAnim]).start();\n        }\n        else {\n            opacityAnim.start();\n        }\n        this.setState({\n            tooltip,\n            layout,\n            size: {\n                x: obj.width,\n                y: obj.height,\n            },\n            position: {\n                x: Math.floor(Math.max(obj.left, 0)),\n                y: Math.floor(Math.max(obj.top, 0)),\n            },\n        });\n    }\n    animateMove(obj = {}) {\n        return new Promise((resolve) => {\n            this.setState({ containerVisible: true }, () => this._animateMove(obj).then(resolve));\n        });\n    }\n    reset() {\n        this.setState({\n            containerVisible: false,\n            layout: undefined,\n        });\n    }\n    renderTooltip() {\n        const { tooltipComponent: TooltipComponent, visible } = this.props;\n        if (!visible) {\n            return null;\n        }\n        const { opacity } = this.state;\n        return (React.createElement(Animated.View, { pointerEvents: 'box-none', key: 'tooltip', style: [\n                styles.tooltip,\n                this.props.tooltipStyle,\n                {\n                    zIndex: 99,\n                    opacity,\n                    transform: [{ translateY: this.state.tooltipTranslateY }],\n                },\n            ] },\n            React.createElement(TooltipComponent, { isFirstStep: this.props.isFirstStep, isLastStep: this.props.isLastStep, currentStep: this.props.currentStep, handleNext: this.handleNext, handlePrev: this.handlePrev, handleStop: this.handleStop, labels: this.props.labels })));\n    }\n    renderNonInteractionPlaceholder() {\n        return this.props.preventOutsideInteraction ? (React.createElement(View, { style: [StyleSheet.absoluteFill, styles.nonInteractionPlaceholder] })) : null;\n    }\n    render() {\n        const containerVisible = this.state.containerVisible || this.props.visible;\n        const contentVisible = this.state.layout && containerVisible;\n        if (!containerVisible) {\n            return null;\n        }\n        return (React.createElement(View, { style: [StyleSheet.absoluteFill, { backgroundColor: 'transparent' }], pointerEvents: 'box-none' },\n            React.createElement(View, { style: styles.container, onLayout: this.handleLayoutChange, pointerEvents: 'box-none' }, contentVisible && (React.createElement(React.Fragment, null,\n                this.renderMask(),\n                this.renderNonInteractionPlaceholder(),\n                this.renderTooltip())))));\n    }\n}\nModal.defaultProps = {\n    easing: Easing.elastic(0.7),\n    animationDuration: 400,\n    tooltipComponent: Tooltip,\n    tooltipStyle: {},\n    androidStatusBarVisible: false,\n    backdropColor: 'rgba(0, 0, 0, 0.4)',\n    labels: {},\n    isHorizontal: false,\n    preventOutsideInteraction: false,\n};\n","import mitt from 'mitt';\nimport * as React from 'react';\nimport { StyleSheet, View } from 'react-native';\nimport { TourGuideContext } from './TourGuideContext';\nimport { useIsMounted } from '../hooks/useIsMounted';\nimport * as utils from '../utilities';\nimport { Modal } from './Modal';\nimport { OFFSET_WIDTH } from './style';\nconst { useMemo, useEffect, useState, useRef } = React;\nconst MAX_START_TRIES = 120;\nexport const TourGuideProvider = ({ children, wrapperStyle, labels, tooltipComponent, tooltipStyle, androidStatusBarVisible, backdropColor, animationDuration, maskOffset, borderRadius, verticalOffset, startAtMount = false, dismissOnPress = false, preventOutsideInteraction = false, }) => {\n    const [tourKey, setTourKey] = useState('_default');\n    const [visible, updateVisible] = useState({\n        _default: false,\n    });\n    const setVisible = (key, value) => updateVisible((visible) => {\n        const newVisible = { ...visible };\n        newVisible[key] = value;\n        return newVisible;\n    });\n    const [currentStep, updateCurrentStep] = useState({\n        _default: undefined,\n    });\n    const [steps, setSteps] = useState({ _default: [] });\n    const [canStart, setCanStart] = useState({ _default: false });\n    const startTries = useRef(0);\n    const { current: mounted } = useIsMounted();\n    const { current: eventEmitter } = useRef({\n        _default: new mitt(),\n    });\n    const modal = useRef();\n    useEffect(() => {\n        var _a;\n        if (mounted && visible[tourKey] === false) {\n            (_a = eventEmitter[tourKey]) === null || _a === void 0 ? void 0 : _a.emit('stop');\n        }\n    }, [visible]);\n    useEffect(() => {\n        if (visible[tourKey] || currentStep[tourKey]) {\n            moveToCurrentStep(tourKey);\n        }\n    }, [visible, currentStep]);\n    useEffect(() => {\n        if (mounted) {\n            if (steps[tourKey]) {\n                if ((Array.isArray(steps[tourKey]) && steps[tourKey].length > 0) ||\n                    Object.entries(steps[tourKey]).length > 0) {\n                    setCanStart((obj) => {\n                        const newObj = { ...obj };\n                        newObj[tourKey] = true;\n                        return newObj;\n                    });\n                    if (typeof startAtMount === 'string') {\n                        start(startAtMount);\n                    }\n                    else if (startAtMount) {\n                        start('_default');\n                    }\n                }\n                else {\n                    setCanStart((obj) => {\n                        const newObj = { ...obj };\n                        newObj[tourKey] = false;\n                        return newObj;\n                    });\n                }\n            }\n        }\n    }, [mounted, steps]);\n    const moveToCurrentStep = async (key) => {\n        var _a, _b;\n        const size = await ((_a = currentStep[key]) === null || _a === void 0 ? void 0 : _a.target.measure());\n        if (isNaN(size.width) ||\n            isNaN(size.height) ||\n            isNaN(size.x) ||\n            isNaN(size.y)) {\n            return;\n        }\n        await ((_b = modal.current) === null || _b === void 0 ? void 0 : _b.animateMove({\n            width: size.width + OFFSET_WIDTH,\n            height: size.height + OFFSET_WIDTH,\n            left: Math.round(size.x) - OFFSET_WIDTH / 2,\n            top: Math.round(size.y) - OFFSET_WIDTH / 2 + (verticalOffset || 0),\n        }));\n    };\n    const setCurrentStep = (key, step) => new Promise((resolve) => {\n        updateCurrentStep((currentStep) => {\n            var _a;\n            const newStep = { ...currentStep };\n            newStep[key] = step;\n            (_a = eventEmitter[key]) === null || _a === void 0 ? void 0 : _a.emit('stepChange', step);\n            return newStep;\n        });\n        resolve();\n    });\n    const getNextStep = (key, step = currentStep[key]) => utils.getNextStep(steps[key], step);\n    const getPrevStep = (key, step = currentStep[key]) => utils.getPrevStep(steps[key], step);\n    const getFirstStep = (key) => utils.getFirstStep(steps[key]);\n    const getLastStep = (key) => utils.getLastStep(steps[key]);\n    const isFirstStep = useMemo(() => {\n        const obj = {};\n        Object.keys(currentStep).forEach((key) => {\n            obj[key] = currentStep[key] === getFirstStep(key);\n        });\n        return obj;\n    }, [currentStep]);\n    const isLastStep = useMemo(() => {\n        const obj = {};\n        Object.keys(currentStep).forEach((key) => {\n            obj[key] = currentStep[key] === getLastStep(key);\n        });\n        return obj;\n    }, [currentStep]);\n    const _next = (key) => setCurrentStep(key, getNextStep(key));\n    const _prev = (key) => setCurrentStep(key, getPrevStep(key));\n    const _stop = (key) => {\n        setVisible(key, false);\n        setCurrentStep(key, undefined);\n    };\n    const registerStep = (key, step) => {\n        setSteps((previousSteps) => {\n            const newSteps = { ...previousSteps };\n            newSteps[key] = {\n                ...previousSteps[key],\n                [step.name]: step,\n            };\n            return newSteps;\n        });\n        if (!eventEmitter[key]) {\n            eventEmitter[key] = new mitt();\n        }\n    };\n    const unregisterStep = (key, stepName) => {\n        if (!mounted) {\n            return;\n        }\n        setSteps((previousSteps) => {\n            const newSteps = { ...previousSteps };\n            newSteps[key] = Object.entries(previousSteps[key])\n                .filter(([key]) => key !== stepName)\n                .reduce((obj, [key, val]) => Object.assign(obj, { [key]: val }), {});\n            return newSteps;\n        });\n    };\n    const getCurrentStep = (key) => currentStep[key];\n    const start = async (key, fromStep) => {\n        var _a;\n        const currentStep = fromStep\n            ? steps[key][fromStep]\n            : getFirstStep(key);\n        if (startTries.current > MAX_START_TRIES) {\n            startTries.current = 0;\n            return;\n        }\n        if (!currentStep) {\n            startTries.current += 1;\n            requestAnimationFrame(() => start(key, fromStep));\n        }\n        else {\n            (_a = eventEmitter[key]) === null || _a === void 0 ? void 0 : _a.emit('start');\n            await setCurrentStep(key, currentStep);\n            setVisible(key, true);\n            startTries.current = 0;\n        }\n    };\n    const next = () => _next(tourKey);\n    const prev = () => _prev(tourKey);\n    const stop = () => _stop(tourKey);\n    return (React.createElement(View, { style: [styles.container, wrapperStyle] },\n        React.createElement(TourGuideContext.Provider, { value: {\n                eventEmitter,\n                registerStep,\n                unregisterStep,\n                getCurrentStep,\n                start,\n                stop,\n                canStart,\n                setTourKey,\n            } },\n            children,\n            React.createElement(Modal, { ref: modal, ...{\n                    next,\n                    prev,\n                    stop,\n                    visible: visible[tourKey],\n                    isFirstStep: isFirstStep[tourKey],\n                    isLastStep: isLastStep[tourKey],\n                    currentStep: currentStep[tourKey],\n                    labels,\n                    tooltipComponent,\n                    tooltipStyle,\n                    androidStatusBarVisible,\n                    backdropColor,\n                    animationDuration,\n                    maskOffset,\n                    borderRadius,\n                    dismissOnPress,\n                    preventOutsideInteraction,\n                } }))));\n};\nconst styles = StyleSheet.create({\n    container: {\n        flex: 1,\n    },\n});\n","import * as React from 'react';\nexport const useIsMounted = () => {\n    const isMounted = React.useRef(false);\n    React.useEffect(() => {\n        isMounted.current = true;\n        return () => {\n            isMounted.current = false;\n        };\n    }, []);\n    return isMounted;\n};\n","import * as React from 'react';\nimport { StyleSheet, View } from 'react-native';\nimport { TourGuideZone } from './TourGuideZone';\nexport const TourGuideZoneByPosition = ({ isTourGuide, zone, tourKey = '_default', width, height, top, left, right, bottom, shape, containerStyle, keepTooltipPosition, tooltipBottomOffset, borderRadiusObject, text, }) => {\n    if (!isTourGuide) {\n        return null;\n    }\n    return (React.createElement(View, { pointerEvents: 'none', style: [StyleSheet.absoluteFillObject, containerStyle] },\n        React.createElement(TourGuideZone, { isTourGuide: true, ...{\n                tourKey,\n                zone,\n                shape,\n                keepTooltipPosition,\n                tooltipBottomOffset,\n                borderRadiusObject,\n                text,\n            }, style: {\n                position: 'absolute',\n                height,\n                width,\n                top,\n                right,\n                bottom,\n                left,\n            } })));\n};\n","import * as React from 'react';\nimport { TourGuideContext } from '../components/TourGuideContext';\nimport { TourGuideZone } from '../components/TourGuideZone';\nimport { TourGuideZoneByPosition, } from '../components/TourGuideZoneByPosition';\nexport const useTourGuideController = (tourKey) => {\n    const { start, canStart, stop, eventEmitter, getCurrentStep, setTourKey } = React.useContext(TourGuideContext);\n    const key = tourKey !== null && tourKey !== void 0 ? tourKey : '_default';\n    const _start = (fromStep) => {\n        if (setTourKey) {\n            setTourKey(key);\n        }\n        if (start) {\n            start(key, fromStep);\n        }\n    };\n    const _stop = () => {\n        if (stop) {\n            stop(key);\n        }\n    };\n    const _eventEmitter = eventEmitter ? eventEmitter[key] : undefined;\n    const _canStart = canStart ? canStart[key] : undefined;\n    const _getCurrentStep = () => {\n        if (getCurrentStep) {\n            return getCurrentStep(key);\n        }\n        return undefined;\n    };\n    React.useEffect(() => {\n        if (setTourKey) {\n            setTourKey(key);\n        }\n    }, []);\n    const KeyedTourGuideZone = React.useCallback(({ children, ...rest }) => {\n        return (React.createElement(TourGuideZone, { ...rest, tourKey: key }, children));\n    }, [key]);\n    const KeyedTourGuideZoneByPosition = React.useCallback((props) => {\n        return React.createElement(TourGuideZoneByPosition, { ...props, tourKey: key });\n    }, [key]);\n    return {\n        start: _start,\n        stop: _stop,\n        eventEmitter: _eventEmitter,\n        getCurrentStep: _getCurrentStep,\n        canStart: _canStart,\n        tourKey: key,\n        TourGuideZone: KeyedTourGuideZone,\n        TourGuideZoneByPosition: KeyedTourGuideZoneByPosition,\n    };\n};\n"],"sourceRoot":""}